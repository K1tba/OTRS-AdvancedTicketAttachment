<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>AdvancedTicketAttachment</Name>
    <Version>6.0.0</Version>
    <Vendor>Nikita Bogdanov</Vendor>
    <URL>https://github.com/K1tba/</URL>
    <License>GNU AFFERO GENERAL PUBLIC LICENSE Version 3, November 2007</License>
    <Description Lang="en">It provides an additional set of functions for working with attachments and also brings a new widget - &quot;AttachmentList&quot; to the system for the AgentTicketZoom overview form.</Description>
    <Description Lang="ru">Предоставляет дополнительный набор функций для работы с вложениями а также привносит в систему новый виджет - &quot;Прикрепленные файлы&quot; для обзорной формы AgentTicketZoom.</Description>
    <Framework>6.0.x</Framework>
    <IntroInstall Lang="en" Type="post">
      
        If you use ArticleStorageDB, you have to switch it to ArticleStorageTSALDB.
        If you use ArticleStorageFS, you have to switch it to ArticleStorageTSALFS.
        You can change the settings via SysConfig. The option can be found in &quot;Core::CommunicationChannel::MIMEBase&quot;.&lt;br /&gt;&lt;br /&gt;
      
    </IntroInstall>
    <IntroInstall Lang="ru" Type="post">
      
        Если вы используете ArticleStorageDB, вы должны переключить его на ArticleStorageTSALDB.
        Если вы используете ArticleStorageFS, вы должны переключить его на ArticleStorageTSALFS.
        Вы можете изменить настройки с помощью SysConfig. Опцию можно найти в &quot;Core::CommunicationChannel::MIMEBase&quot;.&lt;br /&gt;&lt;br /&gt;
      
    </IntroInstall>
    <IntroUninstall Lang="en" Type="pre">
      
        Don't forget to switch back to the original ArticleStorage type!
      
    </IntroUninstall>
    <IntroUninstall Lang="ru" Type="pre">
      
        Не забудьте вернуться к исходному типу ArticleStorage!
      
    </IntroUninstall>
    <CodeInstall Type="post">
        $Kernel::OM-&gt;Get('var::packagesetup::AdvancedTicketAttachment')-&gt;CodeInstall();
    </CodeInstall>
    <CodeUpgrade Type="post">
        $Kernel::OM-&gt;Get('var::packagesetup::AdvancedTicketAttachment')-&gt;CodeUpgrade();
    </CodeUpgrade>
    <CodeUninstall Type="pre">
        $Kernel::OM-&gt;Get('var::packagesetup::AdvancedTicketAttachment')-&gt;CodeUninstall();
    </CodeUninstall>
    <CodeReinstall Type="post">
        $Kernel::OM-&gt;Get('var::packagesetup::AdvancedTicketAttachment')-&gt;CodeReinstall();
    </CodeReinstall>
    <BuildDate>2024-03-05 16:54:30</BuildDate>
    <BuildHost>DESKTOP-GF73K59.localdomain</BuildHost>
    <Filelist>
        <File Location="doc/en/AdvancedTicketAttachment.pod" Permission="660" Encode="Base64">PWVuY29kaW5nIHV0Zi04Cgo9aGVhZDEgTkFNRQoKQWR2YW5jZWRUaWNrZXRBdHRhY2htZW50IC0gaGFuZGxlIGF0dGFjaG1lbnRzIG9mIGEgdGlja2V0Cgo9aGVhZDEgREVTQ1JJUFRJT04KClRoaXMgbW9kdWxlIHNob3dzIGFsbCBhdHRhY2htZW50cyBvZiBhIHRpY2tldCBpbiBhIG5ldyB3aWRnZXQgaW4gdGhlIHRpY2tldCB6b29tLgpJdCBsaXN0cyBhbGwgYXR0YWNobWVudHMgYW5kIHNob3dzIHRoZSBkYXRlcyBzbyB5b3UgY2FuIGlkZW50aWZ5IHRoZSByaWdodCBhdHRhY2htZW50cy4KQWxsIGF0dGFjaG1lbnRzIGFyZSBsaW5rZWQsIHNvIHlvdSBjYW4gZG93bmxvYWQgdGhlbS4KClRoZSBsaXN0IG9mIHRoZSBhdHRhY2htZW50cyBjYW4gYmUgZ3JvdXBlZCBieSB0aGUgYXJ0aWNsZSB0aGV5IGJlbG9uZyB0by4gVGhlIGFydGljbGUKaXMgbGlua2VkLCBzbyB5b3UgY2FuIHZpZXcgdGhlIGFydGljbGUgd2l0aCBhIHNpbmdsZSBjbGljay4KCklmIGVuYWJsZWQsIHlvdXIgYWdlbnRzIGNhbiBkZWxldGUgYW5kL29yIHJlbmFtZSBzaW5nbGUgYXR0YWNobWVudHMuIFRoaXMgaGVscHMgdG8gCmlkZW50aWZ5IGltcG9ydGFudCBhdHRhY2htZW50cyBtb3JlIGVhc2lseS4KCj1oZWFkMSBQUk8gVkVSU0lPTgoKQW4gZXh0ZW5kZWQgdmVyc2lvbiBjYW4gYmUgZm91bmQgb24gTDxodHRwOi8vZmVhdHVyZS1hZGRvbnMuZGUvb3Rycy9UaWNrZXQlMjBab29tL1RpY2tldEF0dGFjaG1lbnRzPgp3aXRoIHRob3NlIGFkZGl0aW9uYWwgZmVhdHVyZXM6Cgo9b3ZlciA0Cgo9aXRlbSAqIFNlYXJjaCBmb3IgQXR0YWNobWVudHMKCj1pdGVtICogRGVsZXRlIEF0dGFjaG1lbnRzIGJhc2VkIG9uIHZhcmlvdXMgZmlsdGVycwoKPW92ZXIgNAoKPWl0ZW0gKiBGaWxlc2l6ZQoKPWl0ZW0gKiBUaWNrZXQgc3RhdGUKCj1pdGVtICogRmlsZW5hbWUKCj1iYWNrCgo9aXRlbSAqIFNpbXBsZSByZXVzZSBvZiBBdHRhY2htZW50cyBpbiBDb21wb3NlIGFuZC9vciBGb3J3YXJkIGRpYWxvZwoKPWl0ZW0gKiBEb3dubG9hZCBvZiBhbGwgYXR0YWNobWVudHMgaW4gYSB0aWNrZXQgYXMgYSAuemlwIGZpbGUKCj1pdGVtICogRG93bmxvYWQgb2YgYWxsIGF0dGFjaG1lbnRzIGluIGFuIGFydGljbGUgYXMgYSAuemlwIGZpbGUKCj1iYWNrCgo9aGVhZDEgQUNLTk9XTEVER0VNRU5UUwoKPW92ZXIgNAoKPWl0ZW0gTW9yaXR6IExlbnoKCiogU21hbGwgcGF0Y2ggdG8gdG9nZ2xlIHRoZSB3aWRnZXQgY29udGVudAoKPWl0ZW0gQmFsw6F6cyDDmnIKCiogSHVuZ2FyaWFuIHRyYW5zbGF0aW9uCgo9YmFjawoKPWhlYWQxIEFVVEhPUiBBTkQgTElDRU5TRQoKQ29weXJpZ2h0IChjKSAyMDEyLTIwMTYgUmVuZWUgQmFlY2tlciAoUGVybC1TZXJ2aWNlcy5kZSkKClRoaXMgbW9kdWxlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBR1BMIDMuCgo9Y3V0Cg==</File>
        <File Location="Kernel/Config/Files/XML/AdvancedTicketAttachment.xml" Permission="660" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPG90cnNfY29uZmlnIHZlcnNpb249IjIuMCIgaW5pdD0iQ29uZmlnIj4KICAgIDxTZXR0aW5nIE5hbWU9IlRpY2tldDo6RnJvbnRlbmQ6OkFnZW50VGlja2V0Wm9vbSMjI1dpZGdldHMjIyMwNDAwLVRpY2tldEF0dGFjaG1lbnQiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+QWdlbnRUaWNrZXRab29tIHdpZGdldCB0aGF0IGRpc3BsYXlzIHRpY2tldCBhdHRhY2htZW50IGRhdGEgaW4gdGhlIHNpZGUgYmFyLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPE5hdmlnYXRpb24+RnJvbnRlbmQ6OkFnZW50OjpWaWV3OjpUaWNrZXRab29tPC9OYXZpZ2F0aW9uPgogICAgICAgIDxWYWx1ZT4KICAgICAgICAgICAgPEhhc2g+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ik1vZHVsZSI+S2VybmVsOjpPdXRwdXQ6OkhUTUw6OlRpY2tldFpvb206OkF0dGFjaG1lbnRMaXN0PC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJMb2NhdGlvbiI+U2lkZWJhcjwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iQXN5bmMiPjE8L0l0ZW0+CiAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICA8L1ZhbHVlPgogICAgPC9TZXR0aW5nPgogICAgPFNldHRpbmcgTmFtZT0iRnJvbnRlbmQ6Ok1vZHVsZSMjI0FnZW50VGlja2V0QXR0YWNobWVudERlbGV0ZSIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciBhdHRhY2htZW50IGRlbGV0aW9uIG1vZHVsZS48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxOYXZpZ2F0aW9uPkZyb250ZW5kOjpBZ2VudDo6TW9kdWxlUmVnaXN0cmF0aW9uPC9OYXZpZ2F0aW9uPgogICAgICAgIDxWYWx1ZT4KICAgICAgICAgICAgPEl0ZW0gVmFsdWVUeXBlPSJGcm9udGVuZFJlZ2lzdHJhdGlvbiI+CiAgICAgICAgICAgICAgICA8SGFzaD4KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ikdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPEFycmF5PgogICAgICAgICAgICAgICAgICAgICAgICA8L0FycmF5PgogICAgICAgICAgICAgICAgICAgIDwvSXRlbT4KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ikdyb3VwUm8iPgogICAgICAgICAgICAgICAgICAgICAgICA8QXJyYXk+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvQXJyYXk+CiAgICAgICAgICAgICAgICAgICAgPC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iRGVzY3JpcHRpb24iIFRyYW5zbGF0YWJsZT0iMSI+RGVsZXRlIHRpY2tldCBhdHRhY2htZW50cy48L0l0ZW0+CiAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJOYXZCYXJOYW1lIj5UaWNrZXQ8L0l0ZW0+CiAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJUaXRsZSIgVHJhbnNsYXRhYmxlPSIxIj5EZWxldGUgVGlja2V0IEF0dGFjaG1lbnRzPC9JdGVtPgogICAgICAgICAgICAgICAgPC9IYXNoPgogICAgICAgICAgICA8L0l0ZW0+CiAgICAgICAgPC9WYWx1ZT4KICAgIDwvU2V0dGluZz4KICAgIDxTZXR0aW5nIE5hbWU9IkZyb250ZW5kOjpOYXZpZ2F0aW9uIyMjQWdlbnRUaWNrZXRBdHRhY2htZW50RGVsZXRlIyMjMDAzLVRpY2tldEF0dGFjaG1lbnRzIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjAiPgogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPk1haW4gbWVudSBpdGVtIHJlZ2lzdHJhdGlvbi48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxOYXZpZ2F0aW9uPkZyb250ZW5kOjpBZ2VudDo6TW9kdWxlUmVnaXN0cmF0aW9uOjpNYWluTWVudTwvTmF2aWdhdGlvbj4KICAgICAgICA8VmFsdWU+CiAgICAgICAgICAgIDxBcnJheT4KICAgICAgICAgICAgICAgIDxEZWZhdWx0SXRlbSBWYWx1ZVR5cGU9IkZyb250ZW5kTmF2aWdhdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPEhhc2g+CiAgICAgICAgICAgICAgICAgICAgPC9IYXNoPgogICAgICAgICAgICAgICAgPC9EZWZhdWx0SXRlbT4KICAgICAgICAgICAgPC9BcnJheT4KICAgICAgICA8L1ZhbHVlPgogICAgPC9TZXR0aW5nPgogICAgPFNldHRpbmcgTmFtZT0iRnJvbnRlbmQ6Ok1vZHVsZSMjI0FnZW50VGlja2V0QXR0YWNobWVudFJlbmFtZSIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciBhdHRhY2htZW50IHJlbmFtZSBtb2R1bGUuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8TmF2aWdhdGlvbj5Gcm9udGVuZDo6QWdlbnQ6Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvTmF2aWdhdGlvbj4KICAgICAgICA8VmFsdWU+CiAgICAgICAgICAgIDxJdGVtIFZhbHVlVHlwZT0iRnJvbnRlbmRSZWdpc3RyYXRpb24iPgogICAgICAgICAgICAgICAgPEhhc2g+CiAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJHcm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJheT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9BcnJheT4KICAgICAgICAgICAgICAgICAgICA8L0l0ZW0+CiAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJHcm91cFJvIj4KICAgICAgICAgICAgICAgICAgICAgICAgPEFycmF5PgogICAgICAgICAgICAgICAgICAgICAgICA8L0FycmF5PgogICAgICAgICAgICAgICAgICAgIDwvSXRlbT4KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkRlc2NyaXB0aW9uIiBUcmFuc2xhdGFibGU9IjEiPlJlbmFtZSB0aWNrZXQgYXR0YWNobWVudHMuPC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTmF2QmFyTmFtZSI+VGlja2V0PC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iVGl0bGUiIFRyYW5zbGF0YWJsZT0iMSI+UmVuYW1lIFRpY2tldCBBdHRhY2htZW50czwvSXRlbT4KICAgICAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICAgICAgPC9JdGVtPgogICAgICAgIDwvVmFsdWU+CiAgICA8L1NldHRpbmc+CiAgICA8U2V0dGluZyBOYW1lPSJGcm9udGVuZDo6TmF2aWdhdGlvbiMjI0FnZW50VGlja2V0QXR0YWNobWVudFJlbmFtZSMjIzAwMy1UaWNrZXRBdHRhY2htZW50cyIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIwIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5NYWluIG1lbnUgaXRlbSByZWdpc3RyYXRpb24uPC9EZXNjcmlwdGlvbj4KICAgICAgICA8TmF2aWdhdGlvbj5Gcm9udGVuZDo6QWdlbnQ6Ok1vZHVsZVJlZ2lzdHJhdGlvbjo6TWFpbk1lbnU8L05hdmlnYXRpb24+CiAgICAgICAgPFZhbHVlPgogICAgICAgICAgICA8QXJyYXk+CiAgICAgICAgICAgICAgICA8RGVmYXVsdEl0ZW0gVmFsdWVUeXBlPSJGcm9udGVuZE5hdmlnYXRpb24iPgogICAgICAgICAgICAgICAgICAgIDxIYXNoPgogICAgICAgICAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICAgICAgICAgIDwvRGVmYXVsdEl0ZW0+CiAgICAgICAgICAgIDwvQXJyYXk+CiAgICAgICAgPC9WYWx1ZT4KICAgIDwvU2V0dGluZz4KICAgIDxTZXR0aW5nIE5hbWU9IkF0dGFjaG1lbnQ6OkRlbGV0ZSIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5FbmFibGVzIHRoZSBmZWF0dXJlIHRvIGRlbGV0ZSBhdHRhY2htZW50cywgaW5jbHVkaW5nIGZyb20gdGhlICJBdHRhY2htZW50cyIgd2lkZ2V0LjwvRGVzY3JpcHRpb24+CiAgICAgICAgPE5hdmlnYXRpb24+Q29yZTo6VGlja2V0PC9OYXZpZ2F0aW9uPgogICAgICAgIDxWYWx1ZT4KICAgICAgICAgICAgPEl0ZW0gVmFsdWVUeXBlPSJDaGVja2JveCI+MDwvSXRlbT4KICAgICAgICA8L1ZhbHVlPgogICAgPC9TZXR0aW5nPgogICAgPFNldHRpbmcgTmFtZT0iQXR0YWNobWVudDo6UmVuYW1lIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPgogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPkVuYWJsZXMgdGhlIGZlYXR1cmUgdG8gcmVuYW1lIGF0dGFjaG1lbnRzLCBpbmNsdWRpbmcgZnJvbSB0aGUgIkF0dGFjaG1lbnRzIiB3aWRnZXQuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8TmF2aWdhdGlvbj5Db3JlOjpUaWNrZXQ8L05hdmlnYXRpb24+CiAgICAgICAgPFZhbHVlPgogICAgICAgICAgICA8SXRlbSBWYWx1ZVR5cGU9IkNoZWNrYm94Ij4wPC9JdGVtPgogICAgICAgIDwvVmFsdWU+CiAgICA8L1NldHRpbmc+Cjwvb3Ryc19jb25maWc+Cg==</File>
        <File Location="Kernel/Language/en_AdvancedTicketAttachment.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6ZW5fQWR2YW5jZWRUaWNrZXRBdHRhY2htZW50OwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwp1c2UgdXRmODsKCnN1YiBEYXRhIHsKICAgIG15ICRTZWxmID0gc2hpZnQ7CgogICAgIyBLZXJuZWwvQ29uZmlnL0ZpbGVzL0FkdmFuY2VkVGlja2V0QXR0YWNobWVudC54bWwKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0Zyb250ZW5kIG1vZHVsZSByZWdpc3RyYXRpb24gZm9yIGF0dGFjaG1lbnQgZGVsZXRpb24gbW9kdWxlLid9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydFbmFibGVzIHRoZSBmZWF0dXJlIHRvIGRlbGV0ZSBhdHRhY2htZW50cywgaW5jbHVkaW5nIGZyb20gdGhlICJBdHRhY2htZW50cyIgd2lkZ2V0Lid9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEZWxldGUgdGlja2V0IGF0dGFjaG1lbnRzLid9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEZWxldGUgVGlja2V0IEF0dGFjaG1lbnRzJ30gPSAnJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0Zyb250ZW5kIG1vZHVsZSByZWdpc3RyYXRpb24gZm9yIGF0dGFjaG1lbnQgcmVuYW1lIG1vZHVsZS4nfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRW5hYmxlcyB0aGUgZmVhdHVyZSB0byByZW5hbWUgYXR0YWNobWVudHMsIGluY2x1ZGluZyBmcm9tIHRoZSAiQXR0YWNobWVudHMiIHdpZGdldC4nfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUmVuYW1lIHRpY2tldCBhdHRhY2htZW50cy4nfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUmVuYW1lIFRpY2tldCBBdHRhY2htZW50cyd9ID0gJyc7CgogICAgIyBLZXJuZWwvT3V0cHV0L0hUTUwvVGVtcGxhdGVzL1N0YW5kYXJkL0FnZW50QXR0YWNobWVudFJlbmFtZS50dDoKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1JlbmFtZSBBdHRhY2htZW50J30gPSAnJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09wdGlvbnMnfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUmVuYW1lIHRvJ30gPSAnJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0ludmFsaWQgZmlsZW5hbWUhJ30gPSAnJzsKCiAgICAjIEtlcm5lbC9PdXRwdXQvSFRNTC9UZW1wbGF0ZXMvU3RhbmRhcmQvQWdlbnRUaWNrZXRab29tL0F0dGFjaG1lbnRMaXN0LnR0CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydGaWx0ZXIgZm9yIGF0dGFjaG1lbnRzIGxpc3QnfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVGhlIGZpbGUgbmFtZSBoYXMgYmVlbiBjb3BpZWQuJ30gPSAnJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RoaXMgb3BlcmF0aW9uIHdpbGwgcGVybWFuZW50bHkgZGVsZXRlIHRoZSBmaWxlIHlvdSBzZWxlY3RlZC4nfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRG8geW91IHJlYWxseSB3YW50IHRvIGRlbGV0ZSBpdD8nfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRGVsZXRpbmcgdGhlIGF0dGFjaG1lbnQuIFRoaXMgbWF5IHRha2UgYSB3aGlsZS4uLid9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydDb3B5IGZpbGUgbmFtZSd9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydSZW5hbWUnfSA9ICcnOwoKICAgICMgS2VybmVsL01vZHVsZXMvQWdlbnRBdHRhY2htZW50RGVsZXRlLnBtCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydBdHRhY2htZW50IGRlbGV0aW9uIGlzIG5vdCBhbGxvd2VkISd9ID0gJyc7CgogICAgIyBLZXJuZWwvTW9kdWxlcy9BZ2VudEF0dGFjaG1lbnRSZW5hbWUucG0KICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0F0dGFjaG1lbnQgcmVuYW1lIGlzIG5vdCBhbGxvd2VkISd9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydBcnRpY2xlIG5vdCBmb3VuZCd9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydTb3JyeSwgeW91IG5lZWQgInJ3IHBlcm1pc3Npb25zIiB0byBkbyB0aGlzIGFjdGlvbiEnfSA9ICcnOwoKICAgICMgSGlzdG9yeUNvbW1lbnRzIChUaWNrZXRBdHRhY2htZW50cy5zb3BtKSAKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1JlbmFtZSBhbiBhdHRhY2htZW50J30gPSAnJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0RlbGV0ZSBhbiBhdHRhY2htZW50J30gPSAnJzsKCiAgICBwdXNoIEB7ICRTZWxmLT57SmF2YVNjcmlwdFN0cmluZ3N9IC8vIFtdIH0sICgKICAgICdEZWxldGluZyB0aGUgYXR0YWNobWVudC4gVGhpcyBtYXkgdGFrZSBhIHdoaWxlLi4uJywKICAgICdUaGUgZmlsZSBuYW1lIGhhcyBiZWVuIGNvcGllZC4nLAogICAgKTsKCn0KCjE7</File>
        <File Location="Kernel/Language/ru_AdvancedTicketAttachment.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6cnVfQWR2YW5jZWRUaWNrZXRBdHRhY2htZW50OwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwp1c2UgdXRmODsKCnN1YiBEYXRhIHsKICAgIG15ICRTZWxmID0gc2hpZnQ7CgogICAgIyBLZXJuZWwvQ29uZmlnL0ZpbGVzL0FkdmFuY2VkVGlja2V0QXR0YWNobWVudC54bWwKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0Zyb250ZW5kIG1vZHVsZSByZWdpc3RyYXRpb24gZm9yIGF0dGFjaG1lbnQgZGVsZXRpb24gbW9kdWxlLid9ID0gJyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydFbmFibGVzIHRoZSBmZWF0dXJlIHRvIGRlbGV0ZSBhdHRhY2htZW50cywgaW5jbHVkaW5nIGZyb20gdGhlICJBdHRhY2htZW50cyIgd2lkZ2V0Lid9ID0gJ9CS0LrQu9GO0YfQsNC10YIg0YTRg9C90LrRhtC40Y4g0YPQtNCw0LvQtdC90LjRjyDQstC70L7QttC10L3QuNC5LCDQsiDRgtC+0Lwg0YfQuNGB0LvQtSDQuNC3INCy0LjQtNC20LXRgtCwICLQn9GA0LjQutGA0LXQv9C70LXQvdC90YvQtSDRhNCw0LnQu9GLIi4nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRGVsZXRlIHRpY2tldCBhdHRhY2htZW50cy4nfSA9ICfQo9C00LDQu9C40YLRjCDQstC70L7QttC10L3QuNGPINC30LDRj9Cy0LrQuC4nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRGVsZXRlIFRpY2tldCBBdHRhY2htZW50cyd9ID0gJ9Cj0LTQsNC70LjRgtGMINCS0LvQvtC20LXQvdC40Y8g0JfQsNGP0LLQutC4JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0Zyb250ZW5kIG1vZHVsZSByZWdpc3RyYXRpb24gZm9yIGF0dGFjaG1lbnQgcmVuYW1lIG1vZHVsZS4nfSA9ICcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRW5hYmxlcyB0aGUgZmVhdHVyZSB0byByZW5hbWUgYXR0YWNobWVudHMsIGluY2x1ZGluZyBmcm9tIHRoZSAiQXR0YWNobWVudHMiIHdpZGdldC4nfSA9ICfQktC60LvRjtGH0LDQtdGCINGE0YPQvdC60YbQuNGOINC/0LXRgNC10LjQvNC10L3QvtCy0LDQvdC40Y8g0LLQu9C+0LbQtdC90LjQuSwg0LIg0YLQvtC8INGH0LjRgdC70LUg0LjQtyDQstC40LTQttC10YLQsCAi0J/RgNC40LrRgNC10L/Qu9C10L3QvdGL0LUg0YTQsNC50LvRiyIuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1JlbmFtZSB0aWNrZXQgYXR0YWNobWVudHMuJ30gPSAn0J/QtdGA0LXQuNC80LXQvdC+0LLQsNGC0Ywg0LLQu9C+0LbQtdC90LjRjyDQt9Cw0Y/QstC60LguJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1JlbmFtZSBUaWNrZXQgQXR0YWNobWVudHMnfSA9ICfQn9C10YDQtdC40LzQtdC90L7QstCw0YLRjCDQktC70L7QttC10L3QuNGPINCX0LDRj9Cy0LrQuCc7CgogICAgIyBLZXJuZWwvT3V0cHV0L0hUTUwvVGVtcGxhdGVzL1N0YW5kYXJkL0FnZW50VGlja2V0QXR0YWNobWVudFJlbmFtZS50dDoKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1JlbmFtZSBBdHRhY2htZW50J30gPSAn0J/QtdGA0LXQuNC80LXQvdC+0LLQsNGC0Ywg0LLQu9C+0LbQtdC90LjQtSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPcHRpb25zJ30gPSAn0J7Qv9GG0LjQuCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydSZW5hbWUgdG8nfSA9ICfQn9C10YDQtdC40LzQtdC90L7QstCw0YLRjCDQsic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydJbnZhbGlkIGZpbGVuYW1lISd9ID0gJ9Cd0LXQtNC+0L/Rg9GB0YLQuNC80L7QtSDQuNC80Y8g0YTQsNC50LvQsCEnOwoKICAgICMgS2VybmVsL091dHB1dC9IVE1ML1RlbXBsYXRlcy9TdGFuZGFyZC9BZ2VudFRpY2tldFpvb20vQXR0YWNobWVudExpc3QudHQKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0ZpbHRlciBmb3IgYXR0YWNobWVudHMgbGlzdCd9ID0gJ9Ck0LjQu9GM0YLRgCDQtNC70Y8g0YHQv9C40YHQutCwINCy0LvQvtC20LXQvdC40LknOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVGhlIGZpbGUgbmFtZSBoYXMgYmVlbiBjb3BpZWQuJ30gPSAn0JjQvNGPINGE0LDQudC70LAg0LHRi9C70L4g0YHQutC+0L/QuNGA0L7QstCw0L3Qvi4nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVGhpcyBvcGVyYXRpb24gd2lsbCBwZXJtYW5lbnRseSBkZWxldGUgdGhlIGZpbGUgeW91IHNlbGVjdGVkLid9ID0gJ9CU0LDQvdC90LDRjyDQvtC/0LXRgNCw0YbQuNGPINCx0LXQt9Cy0L7Qt9Cy0YDQsNGC0L3QviDRg9C00LDQu9C40YIg0LLRi9Cx0YDQsNC90L3Ri9C5INCy0LDQvNC4INGE0LDQudC7Lic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlIGl0Pyd9ID0gJ9CS0Ysg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0YXQvtGC0LjRgtC1INC10LPQviDRg9C00LDQu9C40YLRjD8nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRGVsZXRpbmcgdGhlIGF0dGFjaG1lbnQuIFRoaXMgbWF5IHRha2UgYSB3aGlsZS4uLid9ID0gJ9Cj0LTQsNC70LXQvdC40LUg0LLQu9C+0LbQtdC90LjRjy4g0K3RgtC+INC80L7QttC10YIg0LfQsNC90Y/RgtGMINC90LXQutC+0YLQvtGA0L7QtSDQstGA0LXQvNGPLi4uJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0NvcHkgZmlsZSBuYW1lJ30gPSAn0JrQvtC/0LjRgNC+0LLQsNGC0Ywg0LjQvNGPINGE0LDQudC70LAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUmVuYW1lJ30gPSAn0J/QtdGA0LXQuNC80LXQvdC+0LLQsNGC0YwnOwoKICAgICMgS2VybmVsL01vZHVsZXMvQWdlbnRUaWNrZXRBdHRhY2htZW50RGVsZXRlLnBtCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydBdHRhY2htZW50IGRlbGV0aW9uIGlzIG5vdCBhbGxvd2VkISd9ID0gJ9Cj0LTQsNC70LXQvdC40LUg0LLQu9C+0LbQtdC90LjQuSDQt9Cw0L/RgNC10YnQtdC90L4hJzsKCiAgICAjIEtlcm5lbC9Nb2R1bGVzL0FnZW50VGlja2V0QXR0YWNobWVudFJlbmFtZS5wbQogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnQXR0YWNobWVudCByZW5hbWUgaXMgbm90IGFsbG93ZWQhJ30gPSAn0J/QtdGA0LXQuNC80LXQvdC+0LLQsNC90LjQtSDQstC70L7QttC10L3QuNGPINC30LDQv9GA0LXRidC10L3QviEnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnQXJ0aWNsZSBub3QgZm91bmQnfSA9ICfQodC+0L7QsdGJ0LXQvdC40LUv0LfQsNC80LXRgtC60LAg0L3QtSDQvdCw0LnQtNC10L3QsCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydTb3JyeSwgeW91IG5lZWQgInJ3IHBlcm1pc3Npb25zIiB0byBkbyB0aGlzIGFjdGlvbiEnfSA9ICfQmNC30LLQuNC90LjRgtC1LCDQtNC70Y8g0LLRi9C/0L7Qu9C90LXQvdC40Y8g0Y3RgtC+0LPQviDQtNC10LnRgdGC0LLQuNGPINCy0LDQvCDQvdGD0LbQvdGLICLRgNCw0LfRgNC10YjQtdC90LjRjyBydyIhJzsKCiAgICAjIEhpc3RvcnlDb21tZW50cyAoVGlja2V0QXR0YWNobWVudHMuc29wbSkgCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydSZW5hbWUgYW4gYXR0YWNobWVudCd9ID0gJ9Cf0LXRgNC10LjQvNC10L3QvtCy0LDRgtGMINCy0LvQvtC20LXQvdC40LUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRGVsZXRlIGFuIGF0dGFjaG1lbnQnfSA9ICfQo9C00LDQu9C40YLRjCDQstC70L7QttC10L3QuNC1JzsKCiAgICBwdXNoIEB7ICRTZWxmLT57SmF2YVNjcmlwdFN0cmluZ3N9IC8vIFtdIH0sICgKICAgICdEZWxldGluZyB0aGUgYXR0YWNobWVudC4gVGhpcyBtYXkgdGFrZSBhIHdoaWxlLi4uJywKICAgICdUaGUgZmlsZSBuYW1lIGhhcyBiZWVuIGNvcGllZC4nLAogICAgKTsKCn0KCjE7</File>
        <File Location="Kernel/Modules/AgentTicketAttachmentDelete.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZ2VudFRpY2tldEF0dGFjaG1lbnREZWxldGU7Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7Cgp1c2UgS2VybmVsOjpMYW5ndWFnZSBxdyhUcmFuc2xhdGFibGUpOwoKb3VyICRPYmplY3RNYW5hZ2VyRGlzYWJsZWQgPSAxOwoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7JVBhcmFtfTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBSdW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGdldCBuZWVkZWQgb2JqZWN0CiAgICBteSAkUGFyYW1PYmplY3QgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpXZWI6OlJlcXVlc3QnKTsKICAgIG15ICRMYXlvdXRPYmplY3QgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpPdXRwdXQ6OkhUTUw6OkxheW91dCcpOwogICAgbXkgJENvbmZpZ09iamVjdCAgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OkNvbmZpZycpOwogICAgbXkgJFRpY2tldE9iamVjdCAgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0Jyk7CiAgICBteSAkQXJ0aWNsZU9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpUaWNrZXQ6OkFydGljbGUnKTsKCiAgICBteSAlR2V0UGFyYW07CgogICAgIyBnZXQgcGFyYW1zCiAgICBmb3IgbXkgJEtleSAocXcoVGlja2V0SUQgQXJ0aWNsZUlEIEZpbGVJRCkpIHsKICAgICAgICAkR2V0UGFyYW17JEtleX0gPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAkS2V5ICkgfHwgJyc7CgogICAgICAgICMgY2hlY2sgcGFyYW1zCiAgICAgICAgaWYgKCAhJEdldFBhcmFteyRLZXl9ICkgewogICAgICAgICAgICAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6TG9nJyktPkxvZygKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJObyAkS2V5IGZvciAnJEdldFBhcmFteyRLZXl9JyEiLAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuICRMYXlvdXRPYmplY3QtPkVycm9yU2NyZWVuKCk7CiAgICAgICAgfQogICAgfQoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkQ29uZmlnT2JqZWN0LT5HZXQoICdBdHRhY2htZW50OjpEZWxldGUnICkgKSB7CiAgICAgICAgcmV0dXJuICRMYXlvdXRPYmplY3QtPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+IFRyYW5zbGF0YWJsZSgnQXR0YWNobWVudCBkZWxldGlvbiBpcyBub3QgYWxsb3dlZCEnKSwKICAgICAgICAgICAgQ29tbWVudCA9PiBUcmFuc2xhdGFibGUoJ1BsZWFzZSBjb250YWN0IHRoZSBhZG1pbi4nKSwKICAgICAgICApOwogICAgfQoKICAgICMgY2hlY2sgcGVybWlzc2lvbnMKICAgIG15ICRBY2Nlc3NPSyA9ICRUaWNrZXRPYmplY3QtPlRpY2tldFBlcm1pc3Npb24oCiAgICAgICAgVHlwZSAgICAgPT4gJ3J3JywKICAgICAgICBUaWNrZXRJRCA9PiAkR2V0UGFyYW17VGlja2V0SUR9LAogICAgICAgIFVzZXJJRCAgID0+ICRTZWxmLT57VXNlcklEfQogICAgKTsKCiAgICAjIGVycm9yIHNjcmVlbiwgZG9uJ3Qgc2hvdyB0aWNrZXQKICAgIGlmICggISRBY2Nlc3NPSyApIHsKICAgICAgICByZXR1cm4gJExheW91dE9iamVjdC0+Tm9QZXJtaXNzaW9uKCBXaXRoSGVhZGVyID0+ICd5ZXMnICk7CiAgICB9CgogICAgbXkgJEJhY2tlbmRPYmplY3QgPSAkQXJ0aWNsZU9iamVjdC0+QmFja2VuZEZvckFydGljbGUoCiAgICAgICAgVGlja2V0SUQgID0+ICRHZXRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgQXJ0aWNsZUlEID0+ICRHZXRQYXJhbXtBcnRpY2xlSUR9LAogICAgKTsKCiAgICBteSAkU3RvcmFnZU1vZHVsZSA9ICRLZXJuZWw6Ok9NLT5HZXQoICRCYWNrZW5kT2JqZWN0LT57QXJ0aWNsZVN0b3JhZ2VNb2R1bGV9ICk7CgogICAgbXkgJERlbGV0ZSA9ICRTdG9yYWdlTW9kdWxlLT5BcnRpY2xlRGVsZXRlU2luZ2xlQXR0YWNobWVudCgKICAgICAgICBUaWNrZXRJRCAgPT4gJEdldFBhcmFte1RpY2tldElEfSwKICAgICAgICBBcnRpY2xlSUQgPT4gJEdldFBhcmFte0FydGljbGVJRH0sCiAgICAgICAgRmlsZUlEICAgID0+ICRHZXRQYXJhbXtGaWxlSUR9LAogICAgICAgIFVzZXJJRCAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICApOwoKICAgIGlmICggISREZWxldGUgKSB7CiAgICAgICAgcmV0dXJuICRMYXlvdXRPYmplY3QtPkVycm9yU2NyZWVuKCk7CiAgICB9CgogICAgIyByZXR1cm4gb3V0cHV0CiAgICByZXR1cm4gJExheW91dE9iamVjdC0+QXR0YWNobWVudCgKICAgICAgICBDb250ZW50VHlwZSA9PiAndGV4dC9odG1sJywKICAgICAgICBDb250ZW50ICAgICA9PiAkRGVsZXRlLAogICAgICAgIFR5cGUgICAgICAgID0+ICdpbmxpbmUnLAogICAgICAgIE5vQ2FjaGUgICAgID0+IDEsCiAgICApOwp9CgoxOwo=</File>
        <File Location="Kernel/Modules/AgentTicketAttachmentRename.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZ2VudFRpY2tldEF0dGFjaG1lbnRSZW5hbWU7Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7Cgp1c2UgS2VybmVsOjpMYW5ndWFnZSBxdyhUcmFuc2xhdGFibGUpOwoKb3VyICRPYmplY3RNYW5hZ2VyRGlzYWJsZWQgPSAxOwoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7JVBhcmFtfTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBSdW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGdldCBuZWVkZWQgb2JqZWN0CiAgICBteSAkUGFyYW1PYmplY3QgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpXZWI6OlJlcXVlc3QnKTsKICAgIG15ICRMYXlvdXRPYmplY3QgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpPdXRwdXQ6OkhUTUw6OkxheW91dCcpOwogICAgbXkgJENvbmZpZ09iamVjdCAgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OkNvbmZpZycpOwogICAgbXkgJFRpY2tldE9iamVjdCAgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0Jyk7CiAgICBteSAkQXJ0aWNsZU9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpUaWNrZXQ6OkFydGljbGUnKTsKICAgIG15ICRNYWluT2JqZWN0ICAgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06Ok1haW4nKTsKCiAgICBteSAlR2V0UGFyYW07CgogICAgIyBnZXQgcGFyYW1zCiAgICBmb3IgbXkgJEtleSAocXcoVGlja2V0SUQgQXJ0aWNsZUlEIEZpbGVJRCBOZXdGaWxlbmFtZSkpIHsKICAgICAgICAkR2V0UGFyYW17JEtleX0gPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAkS2V5ICkgfHwgJyc7CiAgICB9CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGlmICggISRHZXRQYXJhbXtUaWNrZXRJRH0gfHwgISRHZXRQYXJhbXtBcnRpY2xlSUR9ICkgewogICAgICAgIHJldHVybiAkTGF5b3V0T2JqZWN0LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiBUcmFuc2xhdGFibGUoJ05vIFRpY2tldElEIG9yIEFydGljbGVJRCBpcyBnaXZlbiEnKSwKICAgICAgICAgICAgQ29tbWVudCA9PiBUcmFuc2xhdGFibGUoJ1BsZWFzZSBjb250YWN0IHRoZSBhZG1pbi4nKSwKICAgICAgICApOwogICAgfQoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkQ29uZmlnT2JqZWN0LT5HZXQoICdBdHRhY2htZW50OjpSZW5hbWUnICkgKSB7CiAgICAgICAgcmV0dXJuICRMYXlvdXRPYmplY3QtPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+IFRyYW5zbGF0YWJsZSgnQXR0YWNobWVudCByZW5hbWUgaXMgbm90IGFsbG93ZWQhJyksCiAgICAgICAgICAgIENvbW1lbnQgPT4gVHJhbnNsYXRhYmxlKCdQbGVhc2UgY29udGFjdCB0aGUgYWRtaW4uJyksCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGNoZWNrIGlmIHRoZSB1c2VyIGJlbG9uZ3MgdG8gYSBncm91cAogICAgIyB0aGF0IGlzIGFsbG93ZWQgdG8gcmVuYW1lIGF0dGFjaG1lbnRzCiAgICBteSAkQWNjZXNzT0sgPSAkVGlja2V0T2JqZWN0LT5UaWNrZXRQZXJtaXNzaW9uKAogICAgICAgIFR5cGUgICAgID0+ICdydycsCiAgICAgICAgVGlja2V0SUQgPT4gJEdldFBhcmFte1RpY2tldElEfSwKICAgICAgICBVc2VySUQgICA9PiAkU2VsZi0+e1VzZXJJRH0KICAgICk7CgogICAgbXkgJEJhY2tlbmRPYmplY3QgPSAkQXJ0aWNsZU9iamVjdC0+QmFja2VuZEZvckFydGljbGUoCiAgICAgICAgVGlja2V0SUQgID0+ICRHZXRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgQXJ0aWNsZUlEID0+ICRHZXRQYXJhbXtBcnRpY2xlSUR9LAogICAgKTsKCiAgICBteSAlQXJ0aWNsZSA9ICRCYWNrZW5kT2JqZWN0LT5BcnRpY2xlR2V0KAogICAgICAgIFRpY2tldElEICA9PiAkR2V0UGFyYW17VGlja2V0SUR9LAogICAgICAgIEFydGljbGVJRCA9PiAkR2V0UGFyYW17QXJ0aWNsZUlEfSwKICAgICk7CgogICAgaWYgKCAhJUFydGljbGUgKSB7CiAgICAgICAgcmV0dXJuICRMYXlvdXRPYmplY3QtPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICdBcnRpY2xlIG5vdCBmb3VuZCEnLAogICAgICAgICAgICBDb21tZW50ID0+ICdQbGVhc2UgY29udGFjdCB0aGUgYWRtaW4uJywKICAgICAgICApOwogICAgfQoKICAgICMgZXJyb3Igc2NyZWVuLCBkb24ndCBzaG93IHRpY2tldAogICAgaWYgKCAhJEFjY2Vzc09LICkgewogICAgICAgIG15ICRPdXRwdXQgPSAkTGF5b3V0T2JqZWN0LT5IZWFkZXIoCiAgICAgICAgICAgIFR5cGUgID0+ICdTbWFsbCcsCiAgICAgICAgICAgIFZhbHVlID0+ICRBcnRpY2xle1RpY2tldE51bWJlcn0sCiAgICAgICAgKTsKCiAgICAgICAgJE91dHB1dCAuPSAkTGF5b3V0T2JqZWN0LT5XYXJuaW5nKAogICAgICAgICAgICBNZXNzYWdlID0+ICdTb3JyeSwgeW91IG5lZWQgInJ3IHBlcm1pc3Npb25zIiB0byBkbyB0aGlzIGFjdGlvbiEnLAogICAgICAgICAgICBDb21tZW50ID0+ICdQbGVhc2UgY2hhbmdlIHRoZSBvd25lciBmaXJzdC4nLAogICAgICAgICk7CgogICAgICAgICRPdXRwdXQgLj0gJExheW91dE9iamVjdC0+Rm9vdGVyKAogICAgICAgICAgICBUeXBlID0+ICdTbWFsbCcsCiAgICAgICAgKTsKCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7CiAgICB9CgogICAgbXkgJFN0b3JhZ2VNb2R1bGUgPSAkS2VybmVsOjpPTS0+R2V0KCAkQmFja2VuZE9iamVjdC0+e0FydGljbGVTdG9yYWdlTW9kdWxlfSApOwoKICAgIGlmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdSZW5hbWUnICkgewogICAgICAgIG15ICRDaGVja0ZpbGVuYW1lID0gJE1haW5PYmplY3QtPkZpbGVuYW1lQ2xlYW5VcCgKICAgICAgICAgICAgRmlsZW5hbWUgPT4gJEdldFBhcmFte05ld0ZpbGVuYW1lfSwKICAgICAgICAgICAgVHlwZSAgICAgPT4gJ0xvY2FsJywKICAgICAgICApOwoKICAgICAgICBteSAkU3VjY2VzczsKICAgICAgICBpZiAoICRDaGVja0ZpbGVuYW1lIGVxICRHZXRQYXJhbXtOZXdGaWxlbmFtZX0gKSB7CiAgICAgICAgICAgICRTdWNjZXNzID0gJFN0b3JhZ2VNb2R1bGUtPkF0dGFjaG1lbnRSZW5hbWUoCiAgICAgICAgICAgICAgICBUaWNrZXRJRCAgICA9PiAkR2V0UGFyYW17VGlja2V0SUR9LAogICAgICAgICAgICAgICAgQXJ0aWNsZUlEICAgPT4gJEdldFBhcmFte0FydGljbGVJRH0sCiAgICAgICAgICAgICAgICBGaWxlSUQgICAgICA9PiAkR2V0UGFyYW17RmlsZUlEfSwKICAgICAgICAgICAgICAgIE5ld0ZpbGVuYW1lID0+ICRHZXRQYXJhbXtOZXdGaWxlbmFtZX0sCiAgICAgICAgICAgICAgICBVc2VySUQgICAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBpZiAoICEkU3VjY2VzcyApIHsKICAgICAgICAgICAgJEdldFBhcmFte05ld0ZpbGVuYW1lSW52YWxpZH0gPSAnU2VydmVyRXJyb3InOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgICMgcmV0dXJuIG91dHB1dAogICAgICAgICAgICByZXR1cm4gJExheW91dE9iamVjdC0+UG9wdXBDbG9zZSgKICAgICAgICAgICAgICAgIFVSTCA9PiAiQWN0aW9uPUFnZW50VGlja2V0Wm9vbTtUaWNrZXRJRD0kR2V0UGFyYW17VGlja2V0SUR9O0FydGljbGVJRD0kR2V0UGFyYW17QXJ0aWNsZUlEfSIsCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgIG15ICRPdXRwdXQgPSAkTGF5b3V0T2JqZWN0LT5IZWFkZXIoCiAgICAgICAgVHlwZSAgPT4gJ1NtYWxsJywKICAgICAgICBWYWx1ZSA9PiAkQXJ0aWNsZXtUaWNrZXROdW1iZXJ9LAogICAgKTsKCiAgICBteSAlRGF0YSA9ICRTdG9yYWdlTW9kdWxlLT5BdHRhY2htZW50SW5mb0dldCggJUdldFBhcmFtICk7CgogICAgJE91dHB1dCAuPSAkTGF5b3V0T2JqZWN0LT5PdXRwdXQoCiAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnQWdlbnRUaWNrZXRBdHRhY2htZW50UmVuYW1lJywKICAgICAgICAgRGF0YSAgICAgICAgID0+IHsKICAgICAgICAgICAgICVHZXRQYXJhbSwKICAgICAgICAgICAgIEF0dGFjaG1lbnRJRCA9PiAkRGF0YXtGaWxlSUR9LAogICAgICAgICAgICAgRmlsZW5hbWUgICAgID0+ICREYXRhe0ZpbGVuYW1lfSwKICAgICAgICAgfSwgCiAgICApOwoKICAgICRPdXRwdXQgLj0gJExheW91dE9iamVjdC0+Rm9vdGVyKAogICAgICAgIFR5cGUgPT4gJ1NtYWxsJywKICAgICk7CgogICAgcmV0dXJuICRPdXRwdXQ7Cn0KCjE7Cg==</File>
        <File Location="Kernel/Output/HTML/TicketZoom/AttachmentList.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpPdXRwdXQ6OkhUTUw6OlRpY2tldFpvb206OkF0dGFjaG1lbnRMaXN0OwoKdXNlIHBhcmVudCAnS2VybmVsOjpPdXRwdXQ6OkhUTUw6OkJhc2UnOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKb3VyICRPYmplY3RNYW5hZ2VyRGlzYWJsZWQgPSAxOwoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IG5lZWRlZCBvYmplY3QKICAgIG15ICRDb25maWdPYmplY3QgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpDb25maWcnKTsKICAgIG15ICRMYXlvdXRPYmplY3QgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpPdXRwdXQ6OkhUTUw6OkxheW91dCcpOwogICAgbXkgJEFydGljbGVPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0OjpBcnRpY2xlJyk7CgogICAgbXkgJVRpY2tldCA9ICV7ICRQYXJhbXtUaWNrZXR9IH07CgogICAgIyBzdHJpcCBodG1sIGFuZCBhc2NpaSBhdHRhY2htZW50cyBvZiBjb250ZW50CiAgICBteSAlU3RyaXBQYXJhbXM7CiAgICBpZiAoICRMYXlvdXRPYmplY3QtPntCcm93c2VyUmljaFRleHR9ICkgewogICAgICAgICRTdHJpcFBhcmFtc3tFeGNsdWRlUGxhaW5UZXh0fSA9IDE7CiAgICAgICAgJFN0cmlwUGFyYW1ze0V4Y2x1ZGVIVE1MQm9keX0gID0gMTsKICAgICAgICAkU3RyaXBQYXJhbXN7RXhjbHVkZUlubGluZX0gICAgPSAxOwogICAgICAgICRTdHJpcFBhcmFtc3tPbmx5SFRNTEJvZHl9ICAgICA9IDA7CiAgICB9CgogICAgZm9yIG15ICRLZXkgKHF3KFJlbmFtZSBEZWxldGUpKSB7CiAgICAgICAgJFBhcmFteyRLZXl9ID0gJENvbmZpZ09iamVjdC0+R2V0KCAnQXR0YWNobWVudDo6JyAuICRLZXkgKTsKICAgIH0KCiAgICAjIGNoZWNrIGlmIGFkZGl0aW9uYWwgZnVuY3Rpb25zIGFyZSBhdmFpbGFibGUgdG8gdGhlIHVzZXIgZm9yIHRoaXMgdGlja2V0CiAgICBteSAkQWNjZXNzT2s7CiAgICBpZiAoICRQYXJhbXtEZWxldGV9IHx8ICRQYXJhbXtSZW5hbWV9ICkgewogICAgICAgICRBY2Nlc3NPayA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpUaWNrZXQnKS0+VGlja2V0UGVybWlzc2lvbigKICAgICAgICAgICAgVHlwZSAgICAgPT4gJ3J3JywKICAgICAgICAgICAgVGlja2V0SUQgPT4gJFRpY2tldHtUaWNrZXRJRH0sCiAgICAgICAgICAgIFVzZXJJRCAgID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICAgICAgTG9nTm8gICAgPT4gMSwKICAgICAgICApOwogICAgfQoKICAgICMgZ2V0IGFsbCBhcnRpY2xlcwogICAgbXkgQEFydGljbGVJbmRleCA9ICRBcnRpY2xlT2JqZWN0LT5BcnRpY2xlTGlzdCgKICAgICAgICBUaWNrZXRJRCA9PiAkVGlja2V0e1RpY2tldElEfSwKICAgICk7CgogICAgbXkgJENvdW50ZXIgPSAwOwoKICAgIEFSVElDTEU6CiAgICBmb3IgbXkgJEFydGljbGUgKCBAQXJ0aWNsZUluZGV4ICkgewoKICAgICAgICBteSAkQmFja2VuZE9iamVjdCA9ICRBcnRpY2xlT2JqZWN0LT5CYWNrZW5kRm9yQXJ0aWNsZSgKICAgICAgICAgICAgVGlja2V0SUQgID0+ICRUaWNrZXR7VGlja2V0SUR9LAogICAgICAgICAgICBBcnRpY2xlSUQgPT4gJEFydGljbGUtPntBcnRpY2xlSUR9LAogICAgICAgICk7CgogICAgICAgIG5leHQgQVJUSUNMRSBpZiAhJEJhY2tlbmRPYmplY3QtPmNhbignQXJ0aWNsZUF0dGFjaG1lbnRJbmRleCcpOwoKICAgICAgICAjIGdldCBhcnRpY2xlIGRhdGEKICAgICAgICBteSAlQXJ0aWNsZSA9ICRCYWNrZW5kT2JqZWN0LT5BcnRpY2xlR2V0KAogICAgICAgICAgICBUaWNrZXRJRCAgICAgID0+ICRUaWNrZXR7VGlja2V0SUR9LAogICAgICAgICAgICBBcnRpY2xlSUQgICAgID0+ICRBcnRpY2xlLT57QXJ0aWNsZUlEfSwKICAgICAgICAgICAgRHluYW1pY0ZpZWxkcyA9PiAwLAogICAgICAgICk7CgogICAgICAgICMgZ2V0IGF0dGFjaG1lbnQgaW5kZXggKHdpdGhvdXQgYXR0YWNobWVudHMpCiAgICAgICAgbXkgJUF0dGFjaG1lbnRJbmRleCA9ICRCYWNrZW5kT2JqZWN0LT5BcnRpY2xlQXR0YWNobWVudEluZGV4KAogICAgICAgICAgICBUaWNrZXRJRCAgPT4gJFRpY2tldHtUaWNrZXRJRH0sCiAgICAgICAgICAgIEFydGljbGVJRCA9PiAkQXJ0aWNsZS0+e0FydGljbGVJRH0sCiAgICAgICAgICAgIFVzZXJJRCAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICAgICAgICAgICVTdHJpcFBhcmFtcywKICAgICAgICApOwoKICAgICAgICBuZXh0IEFSVElDTEUgaWYgISVBdHRhY2htZW50SW5kZXg7CgogICAgICAgIGZvciBteSAkRmlsZUlEICggc29ydCBrZXlzICVBdHRhY2htZW50SW5kZXggKSB7CgogICAgICAgICAgICAjIGF0dGFjaG1lbnQgaW5mbwogICAgICAgICAgICBteSAlQXR0YWNobWVudCA9ICgKICAgICAgICAgICAgICAgIFRpY2tldElEICAgID0+ICRBcnRpY2xle1RpY2tldElEfSwKICAgICAgICAgICAgICAgIEFydGljbGVJRCAgID0+ICRBcnRpY2xle0FydGljbGVJRH0sCiAgICAgICAgICAgICAgICBGaWxlSUQgICAgICA9PiAkRmlsZUlELAogICAgICAgICAgICAgICAgRmlsZW5hbWUgICAgPT4gJEF0dGFjaG1lbnRJbmRleHskRmlsZUlEfS0+e0ZpbGVuYW1lfSwKICAgICAgICAgICAgICAgIEZpbGVEYXRlICAgID0+ICRBcnRpY2xle0NyZWF0ZVRpbWV9LAogICAgICAgICAgICAgICAgQ29udGVudFR5cGUgPT4gJEF0dGFjaG1lbnRJbmRleHskRmlsZUlEfS0+e0NvbnRlbnRUeXBlfSwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICRMYXlvdXRPYmplY3QtPkJsb2NrKAogICAgICAgICAgICAgICAgTmFtZSA9PiAnQXR0YWNobWVudCcsCiAgICAgICAgICAgICAgICBEYXRhID0+IFwlQXR0YWNobWVudCwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICRDb3VudGVyKys7CgogICAgICAgICAgICBpZiAoICRBY2Nlc3NPayApIHsKCiAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICdPdGhlckFjdGlvbnMnLAogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBmb3IgbXkgJEtleSAocXcoUmVuYW1lIERlbGV0ZSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoICRQYXJhbXskS2V5fSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJExheW91dE9iamVjdC0+QmxvY2soCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICRLZXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhID0+IFwlQXR0YWNobWVudCwKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIHt9IGlmICEkQ291bnRlcjsKCiAgICBteSAkT3V0cHV0ID0gJExheW91dE9iamVjdC0+T3V0cHV0KAogICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnQWdlbnRUaWNrZXRab29tL0F0dGFjaG1lbnRMaXN0JywKICAgICAgICBEYXRhICAgICAgICAgPT4gewogICAgICAgICAgICBUaWNrZXRJRCA9PiAkVGlja2V0e1RpY2tldElEfSwKICAgICAgICB9LAogICAgKTsgCgogICAgcmV0dXJuIHsKICAgICAgICBPdXRwdXQgPT4gJE91dHB1dCwKICAgIH07Cn0KCjE7Cg==</File>
        <File Location="Kernel/Output/HTML/Templates/Standard/AgentTicketZoom/AttachmentList.tt" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IldpZGdldFNpbXBsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IldpZGdldEFjdGlvbiBUb2dnbGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiB0aXRsZT0iWyUgVHJhbnNsYXRlKCJTaG93IG9yIGhpZGUgdGhlIGNvbnRlbnQiKSB8IGh0bWwgJV0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhIGZhLWNhcmV0LXJpZ2h0Ij48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmEgZmEtY2FyZXQtZG93biI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGgyPlslIFRyYW5zbGF0ZSgiQXR0YWNobWVudHMiKSB8IGh0bWwgJV08L2gyPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkZpbHRlckF0dGFjaG1lbnRzIiBjbGFzcz0iRmlsdGVyQm94IiBwbGFjZWhvbGRlcj0iWyUgVHJhbnNsYXRlKCJKdXN0IHN0YXJ0IHR5cGluZyB0byBmaWx0ZXIuLi4iKSB8IGh0bWwgJV0iIG5hbWU9IkZpbHRlckF0dGFjaG1lbnRzIiB2YWx1ZT0iIiB0aXRsZT0iWyUgVHJhbnNsYXRlKCJGaWx0ZXIgZm9yIGF0dGFjaG1lbnRzIGxpc3QiKSB8IGh0bWwgJV0iIC8+CiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJBcnRpY2xlQXR0YWNobWVudHMgQXR0YWNobWVudExpc3QiIGlkPSJBdHRhY2htZW50cyI+ClslIFJlbmRlckJsb2NrU3RhcnQoIkF0dGFjaG1lbnQiKSAlXQogICAgICAgICAgICAgICAgICAgICAgICA8bGkgdGl0bGU9IlslIERhdGEuRmlsZW5hbWUgfCBodG1sICVdIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0iQ29weVRleHQiIHRpdGxlPSJbJSBUcmFuc2xhdGUoIkNvcHkgZmlsZSBuYW1lIikgfCBodG1sICVdIFslIERhdGEuRmlsZW5hbWUgfCBodG1sICVdIj5bJSBEYXRhLkZpbGVuYW1lIHwgaHRtbCAlXTwvaDU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJSBEYXRhLkZpbGVEYXRlIHwgTG9jYWxpemUoIlRpbWVTaG9ydCIpICVdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IlslIEVudigiQmFzZWxpbmsiKSAlXUFjdGlvbj1BZ2VudFRpY2tldEF0dGFjaG1lbnQ7VGlja2V0SUQ9WyUgRGF0YS5UaWNrZXRJRCB8IHVyaSAlXTtBcnRpY2xlSUQ9WyUgRGF0YS5BcnRpY2xlSUQgfCB1cmkgJV07RmlsZUlEPVslIERhdGEuRmlsZUlEIHwgdXJpICVdOyIgdGl0bGU9IlslIFRyYW5zbGF0ZSgiRG93bmxvYWQiKSB8IGh0bWwgJV0gWyUgRGF0YS5GaWxlbmFtZSB8IGh0bWwgJV0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhIGZhLWRvd25sb2FkIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KWyUgUmVuZGVyQmxvY2tTdGFydCgiT3RoZXJBY3Rpb25zIikgJV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZW5hbWUiKSAlXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0iQXNQb3B1cCBQb3B1cFR5cGVfVGlja2V0QWN0aW9uIiBocmVmPSJbJSBFbnYoIkJhc2VsaW5rIikgJV1BY3Rpb249QWdlbnRUaWNrZXRBdHRhY2htZW50UmVuYW1lO1RpY2tldElEPVslIERhdGEuVGlja2V0SUQgfCB1cmkgJV07QXJ0aWNsZUlEPVslIERhdGEuQXJ0aWNsZUlEIHwgdXJpICVdO0ZpbGVJRD1bJSBEYXRhLkZpbGVJRCB8IHVyaSAlXTsiIHRpdGxlPSJbJSBUcmFuc2xhdGUoIlJlbmFtZSIpIHwgaHRtbCAlXSBbJSBEYXRhLkZpbGVuYW1lIHwgaHRtbCAlXSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZS1vIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KWyUgUmVuZGVyQmxvY2tFbmQoIlJlbmFtZSIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIkRlbGV0ZSIpICVdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJBdHRhY2htZW50RGVsZXRlIiBocmVmPSIjIiBkYXRhLXRpY2tldC1pZD0iWyUgRGF0YS5UaWNrZXRJRCB8IHVyaSAlXSIgZGF0YS1hcnRpY2xlLWlkPSJbJSBEYXRhLkFydGljbGVJRCB8IHVyaSAlXSIgZGF0YS1maWxlLWlkPSJbJSBEYXRhLkZpbGVJRCB8IHVyaSAlXSIgdGl0bGU9IlslIFRyYW5zbGF0ZSgiUmVtb3ZlIikgfCBodG1sICVdIFslIERhdGEuRmlsZW5hbWUgfCBodG1sICVdIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYSBmYS10cmFzaCI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+ClslIFJlbmRlckJsb2NrRW5kKCJEZWxldGUiKSAlXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgpbJSBSZW5kZXJCbG9ja0VuZCgiT3RoZXJBY3Rpb25zIikgJV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgpbJSBSZW5kZXJCbG9ja0VuZCgiQXR0YWNobWVudCIpICVdCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iRmlsdGVyTWVzc2FnZSBIaWRkZW4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyUgVHJhbnNsYXRlKCJObyBtYXRjaGVzIGZvdW5kLiIpIHwgaHRtbCAlXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iSGlkZGVuIiBpZD0iRGVsZXRlQXR0YWNobWVudERpYWxvZ0NvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkRlbGV0ZUF0dGFjaG1lbnREaWFsb2ciIGNsYXNzPSJJbm5lckNvbnRlbnQgR2VuZXJpY0ludGVyZmFjZURpYWxvZyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iQ2VudGVyIFNwYWNpbmciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFslIFRyYW5zbGF0ZSgiVGhpcyBvcGVyYXRpb24gd2lsbCBwZXJtYW5lbnRseSBkZWxldGUgdGhlIGZpbGUgeW91IHNlbGVjdGVkLiIpIHwgaHRtbCAlXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyUgVHJhbnNsYXRlKCJEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlIGl0PyIpIHwgaHRtbCAlXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iU3BhY2luZ1RvcCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPi8vPCFbQ0RBVEFbCiAgICBDb3JlLkFnZW50LkF0dGFjaG1lbnRMaXN0LkluaXQoKTsKLy9dXT48L3NjcmlwdD4K</File>
        <File Location="Kernel/Output/HTML/Templates/Standard/AgentTicketAttachmentRename.tt" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCjxmb3JtIGFjdGlvbj0iWyUgRW52KCJDR0lIYW5kbGUiKSAlXSIgbWV0aG9kPSJwb3N0IiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIiBuYW1lPSJjb21wb3NlIiBjbGFzcz0iVmFsaWRhdGUgUHJldmVudE11bHRpcGxlU3VibWl0cyI+CiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJBY3Rpb24iICAgIHZhbHVlPSJBZ2VudFRpY2tldEF0dGFjaG1lbnRSZW5hbWUiLz4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlN1YmFjdGlvbiIgdmFsdWU9IlJlbmFtZSIvPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iVGlja2V0SUQiICB2YWx1ZT0iWyUgRGF0YS5UaWNrZXRJRCB8IGh0bWwgJV0iLz4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkFydGljbGVJRCIgdmFsdWU9IlslIERhdGEuQXJ0aWNsZUlEIHwgaHRtbCAlXSIvPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iRmlsZUlEIiAgICB2YWx1ZT0iWyUgRGF0YS5GaWxlSUQgfCBodG1sICVdIi8+CgogICAgPGRpdiBjbGFzcz0iTGF5b3V0UG9wdXAgQVJJQVJvbGVNYWluIj4KICAgICAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgogICAgICAgICAgICA8aDE+CiAgICAgICAgICAgICAgICBbJSBUcmFuc2xhdGUoIlJlbmFtZSBBdHRhY2htZW50IikgfCBodG1sICVdOiBbJSBEYXRhLkZpbGVuYW1lIHwgaHRtbCAlXQogICAgICAgICAgICA8L2gxPgogICAgICAgICAgICA8cCBjbGFzcz0iQXN0ZXJpc2tFeHBsYW5hdGlvbiI+WyUgVHJhbnNsYXRlKCJBbGwgZmllbGRzIG1hcmtlZCB3aXRoIGFuIGFzdGVyaXNrICgqKSBhcmUgbWFuZGF0b3J5LiIpIHwgaHRtbCAlXTwvcD4KICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICA8YSBjbGFzcz0iQ2FuY2VsQ2xvc2VQb3B1cCIgaHJlZj0iIyI+WyUgVHJhbnNsYXRlKCJDYW5jZWwgJiBjbG9zZSIpIHwgaHRtbCAlXTwvYT4KICAgICAgICAgICAgPC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIEV4cGFuZGVkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iV2lkZ2V0QWN0aW9uIFRvZ2dsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIHRpdGxlPSJbJSBUcmFuc2xhdGUoIlRvZ2dsZSB0aGlzIHdpZGdldCIpIHwgaHRtbCAlXSI+PGkgY2xhc3M9ImZhIGZhLWNhcmV0LXJpZ2h0Ij48L2k+PGkgY2xhc3M9ImZhIGZhLWNhcmV0LWRvd24iPjwvaT48L2E+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGgyPlslIFRyYW5zbGF0ZSgiT3B0aW9ucyIpIHwgaHRtbCAlXTwvaDI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzcz0iVGFibGVMaWtlIEZpeGVkTGFiZWwiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Ik1hbmRhdG9yeSIgZm9yPSJOZXdGaWxlbmFtZSI+PHNwYW4gY2xhc3M9Ik1hcmtlciI+Kjwvc3Bhbj5bJSBUcmFuc2xhdGUoIlJlbmFtZSB0byIpIHwgaHRtbCAlXTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Ik5ld0ZpbGVuYW1lIiBuYW1lPSJOZXdGaWxlbmFtZSIgdmFsdWU9IlslIERhdGEuTmV3RmlsZW5hbWUgfCBodG1sICVdIiBjbGFzcz0iVmFsaWRhdGVfUmVxdWlyZWQgWyUgRGF0YS5OZXdGaWxlbmFtZUludmFsaWQgJV0gVzUwcGMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJOZXdGaWxlbmFtZUVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+WyUgVHJhbnNsYXRlKCJJbnZhbGlkIGZpbGVuYW1lISIpIHwgaHRtbCAlXTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Ik5ld0ZpbGVuYW1lU2VydmVyRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD5bJSBUcmFuc2xhdGUoIkludmFsaWQgZmlsZW5hbWUhIikgfCBodG1sICVdPC9wPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iRm9vdGVyIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iUHJpbWFyeSBDYWxsRm9yQWN0aW9uIiBpZD0ic3VibWl0UmljaFRleHQiIGFjY2Vzc2tleT0iZyIgdGl0bGU9IlslIFRyYW5zbGF0ZSgiU3VibWl0IikgfCBodG1sICVdIChnKSIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iWyUgVHJhbnNsYXRlKCJTdWJtaXQiKSB8IGh0bWwgJV0iPjxzcGFuPlslIFRyYW5zbGF0ZSgiU3VibWl0IikgfCBodG1sICVdPC9zcGFuPjwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZm9ybT4K</File>
        <File Location="Kernel/System/Ticket/Article/Backend/MIMEBase/ArticleStorageTSALDB.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpTeXN0ZW06OlRpY2tldDo6QXJ0aWNsZTo6QmFja2VuZDo6TUlNRUJhc2U6OkFydGljbGVTdG9yYWdlVFNBTERCOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIE1JTUU6OkJhc2U2NDsKCnVzZSBwYXJlbnQgcXcoS2VybmVsOjpTeXN0ZW06OlRpY2tldDo6QXJ0aWNsZTo6QmFja2VuZDo6TUlNRUJhc2U6OkFydGljbGVTdG9yYWdlREIpOwoKb3VyIEBPYmplY3REZXBlbmRlbmNpZXMgPSBxdygKICAgIEtlcm5lbDo6U3lzdGVtOjpUaWNrZXQKICAgIEtlcm5lbDo6U3lzdGVtOjpMb2cKICAgIEtlcm5lbDo6Q29uZmlnCiAgICBLZXJuZWw6OlN5c3RlbTo6REIKICAgIEtlcm5lbDo6U3lzdGVtOjpNYWluCik7CgpzdWIgQXR0YWNobWVudEV4aXN0cyB7CiAgICBteSAoJFNlbGYsICVQYXJhbSkgPSBAXzsKCiAgICBteSAkTG9nT2JqZWN0ICAgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpOwogICAgbXkgJERCT2JqZWN0ICAgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpEQicpOwogICAgbXkgJENvbmZpZ09iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6Q29uZmlnJyk7CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkTmVlZGVkIChxdyhBcnRpY2xlSUQgRmlsZW5hbWUpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyROZWVkZWR9ICkgewogICAgICAgICAgICAkTG9nT2JqZWN0LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCAkTmVlZGVkISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgIyBjaGVjayBpZiBhdHRhY2htZW50IGFscmVhZHkgZXhpc3RzCiAgICByZXR1cm4gaWYgISREQk9iamVjdC0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAnU0VMRUNUIGlkIEZST00gYXJ0aWNsZV9kYXRhX21pbWVfYXR0YWNobWVudCBXSEVSRSBhcnRpY2xlX2lkID0gPyBBTkQgZmlsZW5hbWUgPSA/JywKICAgICAgICBCaW5kICA9PiBbIFwkUGFyYW17QXJ0aWNsZUlEfSwgXCRQYXJhbXtGaWxlbmFtZX0gXSwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICBteSAkSUQ7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkREJPYmplY3QtPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICAkSUQgPSAkUm93WzBdOwogICAgfQoKICAgIHJldHVybiBpZiAhJElEOwoKICAgIHJldHVybiAxOwp9CgpzdWIgQXR0YWNobWVudFJlbmFtZSB7CiAgICBteSAoJFNlbGYsICVQYXJhbSkgPSBAXzsKCiAgICBteSAkTG9nT2JqZWN0ICAgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpOwogICAgbXkgJERCT2JqZWN0ICAgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpEQicpOwogICAgbXkgJE1haW5PYmplY3QgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpNYWluJyk7CiAgICBteSAkQ29uZmlnT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpDb25maWcnKTsKICAgIG15ICRUaWNrZXRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0Jyk7CiAgICAKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJE5lZWRlZCAocXcoQXJ0aWNsZUlEIFVzZXJJRCBGaWxlSUQgVGlja2V0SUQgRmlsZW5hbWUpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyROZWVkZWR9ICkgewogICAgICAgICAgICAkTG9nT2JqZWN0LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSA9PiAiTmVlZCAkTmVlZGVkISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgJFBhcmFte0ZpbGVuYW1lfSA9ICRNYWluT2JqZWN0LT5GaWxlbmFtZUNsZWFuVXAoCiAgICAgICAgRmlsZW5hbWUgPT4gJFBhcmFte0ZpbGVuYW1lfSwKICAgICAgICBUeXBlICAgICA9PiAnTG9jYWwnLAogICAgKTsKCiAgICBteSAkQXR0YWNobWVudEV4aXN0cyA9ICRTZWxmLT5BdHRhY2htZW50RXhpc3RzKCAlUGFyYW0gKTsKCiAgICBpZiAoICRBdHRhY2htZW50RXhpc3RzICYmICEkUGFyYW17Rm9yY2V9ICkgewogICAgICAgICRMb2dPYmplY3QtPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSA9PiAiQXR0YWNobWVudCBhbHJlYWR5IGV4aXN0cyEiLAogICAgICAgICk7CgogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBteSAoJEF0dGFjaG1lbnRJRCwgJEZpbGVuYW1lKSA9ICRTZWxmLT5BdHRhY2htZW50SW5mb0dldCggJVBhcmFtICk7CgogICAgcmV0dXJuIGlmICEkQXR0YWNobWVudElEOwogICAgcmV0dXJuIGlmICEkRmlsZW5hbWU7CgogICAgIyByZW5hbWUgYXR0YWNobWVudCBpbiBkYXRhYmFzZQogICAgcmV0dXJuIGlmICEkREJPYmplY3QtPkRvKAogICAgICAgIFNRTCAgPT4gJ1VQREFURSBhcnRpY2xlX2RhdGFfbWltZV9hdHRhY2htZW50IFNFVCBmaWxlbmFtZSA9ID8gV0hFUkUgYXJ0aWNsZV9pZCA9ID8gQU5EIGlkID0gPycsCiAgICAgICAgQmluZCA9PiBbIFwkUGFyYW17RmlsZW5hbWV9LCBcJFBhcmFte0FydGljbGVJRH0sIFwkQXR0YWNobWVudElEIF0sCiAgICApOwoKICAgICMgYWRkIGhpc3RvcnkgZW50cnkKICAgICRUaWNrZXRPYmplY3QtPkhpc3RvcnlBZGQoCiAgICAgICAgVGlja2V0SUQgICAgID0+ICRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgQXJ0aWNsZUlEICAgID0+ICRQYXJhbXtBcnRpY2xlSUR9LAogICAgICAgIEhpc3RvcnlUeXBlICA9PiAnQXR0YWNobWVudFJlbmFtZScsCiAgICAgICAgTmFtZSAgICAgICAgID0+ICJcJVwlJEZpbGVuYW1lXCVcJSRQYXJhbXtGaWxlbmFtZX0iLAogICAgICAgIENyZWF0ZVVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CgogICAgJFRpY2tldE9iamVjdC0+RXZlbnRIYW5kbGVyKAogICAgICAgIEV2ZW50ID0+ICdBdHRhY2htZW50UmVuYW1lJywKICAgICAgICBEYXRhICA9PiB7CiAgICAgICAgICAgIEFydGljbGVJRCA9PiAkUGFyYW17QXJ0aWNsZUlEfSwKICAgICAgICAgICAgRmlsZUlEICAgID0+ICRBdHRhY2htZW50SUQsCiAgICAgICAgICAgIEZpbGVuYW1lICA9PiAkRmlsZW5hbWUsCiAgICAgICAgICAgIFRpY2tldElEICA9PiAkUGFyYW17VGlja2V0SUR9LAogICAgICAgIH0sCiAgICAgICAgVXNlcklEID0+ICRQYXJhbXtVc2VySUR9LAogICAgKTsKCiAgICAjIHJldHVybiBvZiBvbmx5IGRlbGV0ZSBpbiBteSBiYWNrZW5kCiAgICByZXR1cm4gMSBpZiAkUGFyYW17T25seU15QmFja2VuZH07CgogICAgIyByZW5hbWUgYXR0YWNobWVudCBpbiBmaWxlc3lzdGVtCiAgICBteSAkQ29udGVudFBhdGggPSAkU2VsZi0+X0FydGljbGVDb250ZW50UGF0aEdldCggQXJ0aWNsZUlEID0+ICRQYXJhbXtBcnRpY2xlSUR9ICk7CiAgICBteSAkUGF0aCA9ICIkU2VsZi0+e0FydGljbGVEYXRhRGlyfS8kQ29udGVudFBhdGgvJFBhcmFte0FydGljbGVJRH0iOwogICAgaWYgKCAtZSAkUGF0aCApIHsKICAgICAgICBteSBATGlzdCA9ICRNYWluT2JqZWN0LT5EaXJlY3RvcnlSZWFkKAogICAgICAgICAgICBEaXJlY3RvcnkgPT4gJFBhdGgsCiAgICAgICAgICAgIEZpbHRlciAgICA9PiAiKiIsCiAgICAgICAgKTsKCiAgICAgICAgRklMRToKICAgICAgICBmb3IgbXkgJEZpbGUgKEBMaXN0KSB7CgogICAgICAgICAgICBuZXh0IEZJTEUgaWYgJEZpbGUgIX4gbXsgLyBcUSRGaWxlbmFtZVxFICg/OlwuY29udGVudF8oPzp0eXBlfGFsdGVybmF0aXZlfGlkKSB8IFwuZGlzcG9zaXRpb24pPyBceiB9eG1zOwogICAgICAgICAgICBuZXh0IEZJTEUgaWYgJEZpbGUgPX4gbXsvcGxhaW4udHh0JH07CiAgICAgICAgICAgIG5leHQgRklMRSBpZiAkRmlsZSA9fiBtey9maWxlLVsxMl0kfTsKCiAgICAgICAgICAgIChteSAkTmV3UGF0aCA9ICRGaWxlKSA9fiBzeyBcUSRGaWxlbmFtZVxFIChcLmNvbnRlbnRfKD86dHlwZXxhbHRlcm5hdGl2ZXxpZCkpPyBceiB9eyRQYXJhbXtGaWxlbmFtZX0kMX14bXM7CgogICAgICAgICAgICBpZiAoICFyZW5hbWUgJEZpbGUsICROZXdQYXRoICkgewogICAgICAgICAgICAgICAgJExvZ09iamVjdC0+TG9nKAogICAgICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIkNhbid0IHJlbmFtZTogJEZpbGUgdG8gJFBhcmFte0ZpbGVuYW1lfTogJCEhIiwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDE7Cn0KCnN1YiBBcnRpY2xlRGVsZXRlU2luZ2xlQXR0YWNobWVudCB7CiAgICBteSAoJFNlbGYsICVQYXJhbSkgPSBAXzsKICAgIAogICAgbXkgJExvZ09iamVjdCAgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpMb2cnKTsKICAgIG15ICREQk9iamVjdCAgICAgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6REInKTsKICAgIG15ICRNYWluT2JqZWN0ICAgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6TWFpbicpOwogICAgbXkgJENvbmZpZ09iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6Q29uZmlnJyk7CiAgICBteSAkVGlja2V0T2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OlRpY2tldCcpOwogICAgCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgZm9yIG15ICROZWVkZWQgKHF3KEFydGljbGVJRCBVc2VySUQgRmlsZUlEIFRpY2tldElEKSkgewogICAgICAgIGlmICggISRQYXJhbXskTmVlZGVkfSApIHsKICAgICAgICAgICAgJExvZ09iamVjdC0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgPT4gIk5lZWQgJE5lZWRlZCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIG15ICgkQXR0YWNobWVudElELCAkRmlsZW5hbWUpID0gJFNlbGYtPkF0dGFjaG1lbnRJbmZvR2V0KCAlUGFyYW0gKTsKCiAgICByZXR1cm4gaWYgISRBdHRhY2htZW50SUQ7CiAgICByZXR1cm4gaWYgISRGaWxlbmFtZTsKCiAgICAjIGRlbGV0ZSBhdHRhY2htZW50cwogICAgcmV0dXJuIGlmICEkREJPYmplY3QtPkRvKAogICAgICAgIFNRTCAgPT4gJ0RFTEVURSBGUk9NIGFydGljbGVfZGF0YV9taW1lX2F0dGFjaG1lbnQgV0hFUkUgYXJ0aWNsZV9pZCA9ID8gQU5EIGlkID0gPycsCiAgICAgICAgQmluZCA9PiBbCiAgICAgICAgICAgIFwkUGFyYW17QXJ0aWNsZUlEfSwKICAgICAgICAgICAgXCRBdHRhY2htZW50SUQsCiAgICAgICAgXSwKICAgICk7CgogICAgIyBhZGQgaGlzdG9yeSBlbnRyeQogICAgJFRpY2tldE9iamVjdC0+SGlzdG9yeUFkZCgKICAgICAgICBUaWNrZXRJRCAgICAgPT4gJFBhcmFte1RpY2tldElEfSwKICAgICAgICBBcnRpY2xlSUQgICAgPT4gJFBhcmFte0FydGljbGVJRH0sCiAgICAgICAgSGlzdG9yeVR5cGUgID0+ICdBdHRhY2htZW50RGVsZXRlJywKICAgICAgICBOYW1lICAgICAgICAgPT4gIlwlXCUkRmlsZW5hbWUiLAogICAgICAgIENyZWF0ZVVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CgogICAgIyB0cmlnZ2VyIGV2ZW50CiAgICAkVGlja2V0T2JqZWN0LT5FdmVudEhhbmRsZXIoCiAgICAgICAgRXZlbnQgPT4gJ1NpbmdsZVRpY2tldEF0dGFjaG1lbnREZWxldGUnLAogICAgICAgIERhdGEgID0+IHsKICAgICAgICAgICAgQXJ0aWNsZUlEID0+ICRQYXJhbXtBcnRpY2xlSUR9LAogICAgICAgICAgICBGaWxlSUQgICAgPT4gJEF0dGFjaG1lbnRJRCwKICAgICAgICAgICAgRmlsZW5hbWUgID0+ICRGaWxlbmFtZSwKICAgICAgICAgICAgVGlja2V0SUQgID0+ICRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgfSwKICAgICAgICBVc2VySUQgPT4gJFBhcmFte1VzZXJJRH0sCiAgICApOwoKICAgICMgcmV0dXJuIG9mIG9ubHkgZGVsZXRlIGluIG15IGJhY2tlbmQKICAgIHJldHVybiAxIGlmICRQYXJhbXtPbmx5TXlCYWNrZW5kfTsKCiAgICAjIGRlbGV0ZSBmcm9tIGZzCiAgICBteSAkQ29udGVudFBhdGggPSAkU2VsZi0+X0FydGljbGVDb250ZW50UGF0aEdldCggQXJ0aWNsZUlEID0+ICRQYXJhbXtBcnRpY2xlSUR9ICk7CiAgICBteSAkUGF0aCA9ICIkU2VsZi0+e0FydGljbGVEYXRhRGlyfS8kQ29udGVudFBhdGgvJFBhcmFte0FydGljbGVJRH0iOwogICAgaWYgKCAtZSAkUGF0aCApIHsKICAgICAgICBteSBATGlzdCA9ICRNYWluT2JqZWN0LT5EaXJlY3RvcnlSZWFkKAogICAgICAgICAgICBEaXJlY3RvcnkgPT4gJFBhdGgsCiAgICAgICAgICAgIEZpbHRlciAgICA9PiAiKiIsCiAgICAgICAgKTsKCiAgICAgICAgRklMRToKICAgICAgICBmb3IgbXkgJEZpbGUgKEBMaXN0KSB7CgogICAgICAgICAgICBuZXh0IEZJTEUgaWYgJEZpbGUgIX4gbXsgLyBcUSRGaWxlbmFtZVxFICg/OiBcLmNvbnRlbnRfICg/OnR5cGV8YWx0ZXJuYXRpdmV8aWQpIHwgXC5kaXNwb3NpdGlvbiApPyBceiB9eG1zOwogICAgICAgICAgICBuZXh0IEZJTEUgaWYgJEZpbGUgPX4gbXsvcGxhaW4udHh0JH07CiAgICAgICAgICAgIG5leHQgRklMRSBpZiAkRmlsZSA9fiBtey9maWxlLVsxMl0kfTsKCiAgICAgICAgICAgIGlmICggIXVubGluayAkRmlsZSApIHsKICAgICAgICAgICAgICAgICRMb2dPYmplY3QtPkxvZygKICAgICAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJDYW4ndCByZW1vdmU6ICRGaWxlOiAkISEiLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gMTsKfQoKc3ViIEF0dGFjaG1lbnRJbmZvR2V0IHsKICAgIG15ICgkU2VsZiwgJVBhcmFtKSA9IEBfOwoKICAgIG15ICREQk9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpEQicpOwogICAgCiAgICAjIHRyeSBkYXRhYmFzZQogICAgcmV0dXJuIGlmICEkREJPYmplY3QtPlByZXBhcmUoCiAgICAgICAgU1FMID0+ICdTRUxFQ1QgaWQsIGZpbGVuYW1lLCBjb250ZW50X3NpemUgRlJPTSBhcnRpY2xlX2RhdGFfbWltZV9hdHRhY2htZW50IFdIRVJFIGFydGljbGVfaWQgPSA/IE9SREVSIEJZIGZpbGVuYW1lLCBpZCcsCiAgICAgICAgQmluZCAgID0+IFsgXCRQYXJhbXtBcnRpY2xlSUR9IF0sCiAgICAgICAgTGltaXQgID0+ICRQYXJhbXtGaWxlSUR9LAogICAgKTsKCiAgICBteSAkQXR0YWNobWVudElEOwogICAgbXkgJEZpbGVuYW1lOwogICAgbXkgJFNpemU7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkREJPYmplY3QtPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICAkQXR0YWNobWVudElEID0gJFJvd1swXTsKICAgICAgICAkRmlsZW5hbWUgICAgID0gJFJvd1sxXTsKICAgICAgICAkU2l6ZSAgICAgICAgID0gJFJvd1syXTsKICAgIH0KCiAgICByZXR1cm4gaWYgISRBdHRhY2htZW50SUQ7CiAgICByZXR1cm4gaWYgISRGaWxlbmFtZTsKCiAgICByZXR1cm4gKCRBdHRhY2htZW50SUQsICRGaWxlbmFtZSwgJFNpemUpOwp9CgoxOwo=</File>
        <File Location="Kernel/System/Ticket/Article/Backend/MIMEBase/ArticleStorageTSALFS.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpTeXN0ZW06OlRpY2tldDo6QXJ0aWNsZTo6QmFja2VuZDo6TUlNRUJhc2U6OkFydGljbGVTdG9yYWdlVFNBTEZTOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIEZpbGU6OkZpbmQ7CnVzZSBGaWxlOjpCYXNlbmFtZTsKCnVzZSBwYXJlbnQgcXcoS2VybmVsOjpTeXN0ZW06OlRpY2tldDo6QXJ0aWNsZTo6QmFja2VuZDo6TUlNRUJhc2U6OkFydGljbGVTdG9yYWdlRlMpOwoKb3VyIEBPYmplY3REZXBlbmRlbmNpZXMgPSBxdygKICAgIEtlcm5lbDo6U3lzdGVtOjpEQgogICAgS2VybmVsOjpTeXN0ZW06OkxvZwogICAgS2VybmVsOjpTeXN0ZW06Ok1haW4KICAgIEtlcm5lbDo6U3lzdGVtOjpUaWNrZXQKKTsKCnN1YiBBdHRhY2htZW50RXhpc3RzIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CiAgICAKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEl0ZW0gKHF3KEFydGljbGVJRCBGaWxlbmFtZSkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JEl0ZW19ICkgewogICAgICAgICAgICAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6TG9nJyktPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTmVlZCAkSXRlbSEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgICMgZ2V0IGNvbnRlbnQgcGF0aAogICAgbXkgJENvbnRlbnRQYXRoID0gJFNlbGYtPl9BcnRpY2xlQ29udGVudFBhdGhHZXQoCiAgICAgICAgQXJ0aWNsZUlEID0+ICRQYXJhbXtBcnRpY2xlSUR9CiAgICApOwogICAgbXkgJEZpbGUgPSAiJFNlbGYtPntBcnRpY2xlRGF0YURpcn0vJENvbnRlbnRQYXRoLyRQYXJhbXtBcnRpY2xlSUR9LyRQYXJhbXtGaWxlbmFtZX0iOwoKICAgIGlmICggLWYgJEZpbGUgKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgcmV0dXJuOwp9CgpzdWIgQXR0YWNobWVudFJlbmFtZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEl0ZW0gKHF3KFRpY2tldElEIEFydGljbGVJRCBGaWxlSUQgTmV3RmlsZW5hbWUgVXNlcklEKSkgewogICAgICAgIGlmICggISRQYXJhbXskSXRlbX0gKSB7CiAgICAgICAgICAgICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpMb2cnKS0+TG9nKAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRJdGVtISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgIyBnZXQgYXR0YWNobWVudCBpbmZvIAogICAgbXkgJURhdGEgPSAkU2VsZi0+QXR0YWNobWVudEluZm9HZXQoICVQYXJhbSApOwoKICAgIHJldHVybiBpZiAhJURhdGE7CiAgICByZXR1cm4gaWYgISREYXRhe0ZpbGVJRH0gJiYgISREYXRhe0ZpbGVuYW1lfTsKCiAgICAjIGNoZWNrIHRoYXQgdGhlIGZpbGUgZXhpc3RzCiAgICBteSAkRXhpc3RzID0gJFNlbGYtPkF0dGFjaG1lbnRFeGlzdHMoCiAgICAgICAgQXJ0aWNsZUlEID0+ICRQYXJhbXtBcnRpY2xlSUR9LAogICAgICAgIEZpbGVuYW1lICA9PiAkUGFyYW17TmV3RmlsZW5hbWV9LAogICAgKTsKCiAgICBpZiAoICRFeGlzdHMgJiYgISRQYXJhbXtGb3JjZX0gKSB7CiAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpLT5Mb2coCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJBdHRhY2htZW50IGFscmVhZHkgZXhpc3RzISIsCiAgICAgICAgKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgIyBnZXQgbWFpbiBvYmplY3QKICAgIG15ICRNYWluT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06Ok1haW4nKTsKCiAgICAjIHBlcmZvcm0gRmlsZW5hbWVDbGVhblVwIGhlcmUgYWxyZWFkeSB0byBjaGVjayBmb3IKICAgICMgICBjb25mbGljdGluZyBleGlzdGluZyBhdHRhY2htZW50IGZpbGVzIGNvcnJlY3RseQogICAgJFBhcmFte05ld0ZpbGVuYW1lfSA9ICRNYWluT2JqZWN0LT5GaWxlbmFtZUNsZWFuVXAoCiAgICAgICAgRmlsZW5hbWUgPT4gJFBhcmFte05ld0ZpbGVuYW1lfSwKICAgICAgICBUeXBlICAgICA9PiAnTG9jYWwnLAogICAgKTsKCiAgICAjIGdldCBjb250ZW50IHBhdGgKICAgIG15ICRDb250ZW50UGF0aCA9ICRTZWxmLT5fQXJ0aWNsZUNvbnRlbnRQYXRoR2V0KAogICAgICAgIEFydGljbGVJRCA9PiAkUGFyYW17QXJ0aWNsZUlEfQogICAgKTsKCiAgICAjIHBhdGggYnVpbGRpbmcKICAgIG15ICRQYXRoID0gIiRTZWxmLT57QXJ0aWNsZURhdGFEaXJ9LyRDb250ZW50UGF0aC8kUGFyYW17QXJ0aWNsZUlEfSI7CgogICAgaWYgKCAtZSAkUGF0aCApIHsKCiAgICAgICAgbXkgQExpc3QgPSAkTWFpbk9iamVjdC0+RGlyZWN0b3J5UmVhZCgKICAgICAgICAgICAgRGlyZWN0b3J5ID0+ICRQYXRoLAogICAgICAgICAgICBGaWx0ZXIgICAgPT4gIioiLAogICAgICAgICk7CgogICAgICAgIEZJTEVOQU1FOgogICAgICAgIGZvciBteSAkRmlsZW5hbWUgKCBzb3J0IEBMaXN0ICkgewogICAgICAgICAgICBuZXh0IEZJTEVOQU1FIGlmICRGaWxlbmFtZSAhfiBte1wvXFEkRGF0YXtGaWxlbmFtZX1cRSg/OlwuY29udGVudF8oPzp0eXBlfGFsdGVybmF0aXZlfGlkKXxcLmRpc3Bvc2l0aW9uKT9cen14bXM7CgogICAgICAgICAgICAoIG15ICROZXdQYXRoID0gJEZpbGVuYW1lICkgPX4gc3sKICAgICAgICAgICAgICAgIFxRJERhdGF7RmlsZW5hbWV9XEUKICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICBcLmNvbnRlbnRfKD86dHlwZXxhbHRlcm5hdGl2ZXxpZCl8CiAgICAgICAgICAgICAgICAgICAgXC5kaXNwb3NpdGlvbgogICAgICAgICAgICAgICAgKT8KICAgICAgICAgICAgICAgIFx6CiAgICAgICAgICAgIH17JFBhcmFte05ld0ZpbGVuYW1lfSQxfXhtczsKCiAgICAgICAgICAgIGlmICggIXJlbmFtZSAkRmlsZW5hbWUsICROZXdQYXRoICkgewogICAgICAgICAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpLT5Mb2coCiAgICAgICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiQ2FuJ3QgcmVuYW1lOiAkRmlsZW5hbWUgdG8gJFBhcmFte05ld0ZpbGVuYW1lfTogJCEhIiwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgIyBkZWxldGUgc3BlY2lhbCBhcnRpY2xlIHN0b3JhZ2UgY2FjaGUuCiAgICBpZiAoICRTZWxmLT57QXJ0aWNsZVN0b3JhZ2VDYWNoZX0gKSB7CiAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkNhY2hlJyktPkRlbGV0ZSgKICAgICAgICAgICAgVHlwZSAgICAgICAgICAgPT4gJ0FydGljbGVTdG9yYWdlRlNfJyAuICRQYXJhbXtBcnRpY2xlSUR9LAogICAgICAgICAgICBLZXkgICAgICAgICAgICA9PiAnQXJ0aWNsZUF0dGFjaG1lbnRJbmRleFJhdycsCiAgICAgICAgICAgIENhY2hlSW5NZW1vcnkgID0+IDAsCiAgICAgICAgICAgIENhY2hlSW5CYWNrZW5kID0+IDEsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGdldCB0aWNrZXQgb2JqZWN0CiAgICBteSAkVGlja2V0T2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OlRpY2tldCcpOwoKICAgICMgYWRkIGhpc3RvcnkgZW50cnkKICAgICRUaWNrZXRPYmplY3QtPkhpc3RvcnlBZGQoCiAgICAgICAgVGlja2V0SUQgICAgID0+ICRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgQXJ0aWNsZUlEICAgID0+ICRQYXJhbXtBcnRpY2xlSUR9LAogICAgICAgIEhpc3RvcnlUeXBlICA9PiAnQXR0YWNobWVudFJlbmFtZScsCiAgICAgICAgTmFtZSAgICAgICAgID0+ICJcJVwlJERhdGF7RmlsZW5hbWV9XCVcJSRQYXJhbXtOZXdGaWxlbmFtZX0iLAogICAgICAgIENyZWF0ZVVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CgogICAgIyB0cmlnZ2VyIGV2ZW50CiAgICAkVGlja2V0T2JqZWN0LT5FdmVudEhhbmRsZXIoCiAgICAgICAgRXZlbnQgPT4gJ0F0dGFjaG1lbnRSZW5hbWUnLAogICAgICAgIERhdGEgID0+IHsKICAgICAgICAgICAgVGlja2V0SUQgID0+ICRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgICAgIEFydGljbGVJRCA9PiAkUGFyYW17QXJ0aWNsZUlEfSwKICAgICAgICAgICAgRmlsZUlEICAgID0+ICREYXRhe0ZpbGVJRH0sCiAgICAgICAgICAgIEZpbGVuYW1lICA9PiAkRGF0YXtGaWxlbmFtZX0sCiAgICAgICAgfSwKICAgICAgICBVc2VySUQgPT4gJFBhcmFte1VzZXJJRH0sCiAgICApOwoKICAgICMgcmVuYW1lIGF0dGFjaG1lbnQgaW4gZmlsZXN5c3RlbQogICAgIyByZXR1cm4gaWYgb25seSBkZWxldGUgaW4gbXkgYmFja2VuZAogICAgcmV0dXJuIDEgaWYgJFBhcmFte09ubHlNeUJhY2tlbmR9OwoKICAgICMgZ2V0IGRiIG9iamVjdAogICAgbXkgJERCT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkRCJyk7CgogICAgIyByZW5hbWUgYXR0YWNobWVudCBpbiBkYXRhYmFzZQogICAgcmV0dXJuIGlmICEkREJPYmplY3QtPkRvKAogICAgICAgIFNRTCAgPT4gJ1VQREFURSBhcnRpY2xlX2RhdGFfbWltZV9hdHRhY2htZW50IFNFVCBmaWxlbmFtZSA9ID8gJwogICAgICAgICAgICAgLiAnIFdIRVJFIGFydGljbGVfaWQgPSA/IEFORCBpZCA9ID8nLAogICAgICAgIEJpbmQgPT4gWyBcJFBhcmFte05ld0ZpbGVuYW1lfSwgXCRQYXJhbXtBcnRpY2xlSUR9LCBcJERhdGF7RmlsZUlEfSBdLAogICAgKTsKCiAgICByZXR1cm4gMTsKfQoKc3ViIEFydGljbGVEZWxldGVTaW5nbGVBdHRhY2htZW50IHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CiAgICAKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgbXkgJEl0ZW0gKHF3KFRpY2tldElEIEFydGljbGVJRCBVc2VySUQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRJdGVtfSApIHsKICAgICAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpLT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEl0ZW0hIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgaWYgKCAhJFBhcmFte0ZpbGVJRH0gJiYgISRQYXJhbXtGaWxlbmFtZX0gKSB7CiAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpLT5Mb2coCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkIEZpbGVJRCBvciBGaWxlbmFtZSEiLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgICMgZ2V0IGF0dGFjaG1lbnQgaW5mbyAKICAgIG15ICVEYXRhID0gJFNlbGYtPkF0dGFjaG1lbnRJbmZvR2V0KCAlUGFyYW0gKTsKCiAgICByZXR1cm4gaWYgISVEYXRhOwogICAgcmV0dXJuIGlmICEkRGF0YXtGaWxlSUR9ICYmICEkRGF0YXtGaWxlbmFtZX07CgogICAgIyBnZXQgY29udGVudCBwYXRoCiAgICBteSAkQ29udGVudFBhdGggPSAkU2VsZi0+X0FydGljbGVDb250ZW50UGF0aEdldCgKICAgICAgICBBcnRpY2xlSUQgPT4gJFBhcmFte0FydGljbGVJRH0KICAgICk7CgogICAgIyBwYXRoIGJ1aWxkaW5nCiAgICBteSAkUGF0aCA9ICIkU2VsZi0+e0FydGljbGVEYXRhRGlyfS8kQ29udGVudFBhdGgvJFBhcmFte0FydGljbGVJRH0iOwoKICAgIGlmICggLWUgJFBhdGggKSB7CgogICAgICAgICMgZ2V0IG1haW4gb2JqZWN0CiAgICAgICAgbXkgJE1haW5PYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6TWFpbicpOwoKICAgICAgICBteSBATGlzdCA9ICRNYWluT2JqZWN0LT5EaXJlY3RvcnlSZWFkKAogICAgICAgICAgICBEaXJlY3RvcnkgPT4gJFBhdGgsCiAgICAgICAgICAgIEZpbHRlciAgICA9PiAiKiIsCiAgICAgICAgICAgIFNpbGVudCAgICA9PiAxLAogICAgICAgICk7CgogICAgICAgIEZJTEVOQU1FOgogICAgICAgIGZvciBteSAkRmlsZW5hbWUgKCBzb3J0IEBMaXN0ICkgewogICAgICAgICAgICBuZXh0IEZJTEVOQU1FIGlmICRGaWxlbmFtZSAhfiBte1wvXFEkRGF0YXtGaWxlbmFtZX1cRSAoPzpcLmNvbnRlbnRfKD86dHlwZXxhbHRlcm5hdGl2ZXxpZCl8XC5kaXNwb3NpdGlvbik/XHp9eG1zOwogICAgICAgICAgICBuZXh0IEZJTEVOQU1FIGlmICRGaWxlbmFtZSA9fiBte1wvcGxhaW5cLnR4dCR9eG1zOwogICAgICAgICAgICBuZXh0IEZJTEVOQU1FIGlmICRGaWxlbmFtZSA9fiBte1wvZmlsZS1bMTJdJH14bXM7CgogICAgICAgICAgICBpZiAoICF1bmxpbmsgIiRGaWxlbmFtZSIgKSB7CiAgICAgICAgICAgICAgICAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6TG9nJyktPkxvZygKICAgICAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJDYW4ndCByZW1vdmU6ICRGaWxlbmFtZTogJCEhIiwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgIyBkZWxldGUgc3BlY2lhbCBhcnRpY2xlIHN0b3JhZ2UgY2FjaGUuCiAgICBpZiAoICRTZWxmLT57QXJ0aWNsZVN0b3JhZ2VDYWNoZX0gKSB7CiAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkNhY2hlJyktPkNsZWFuVXAoCiAgICAgICAgICAgIFR5cGUgPT4gJ0FydGljbGVTdG9yYWdlRlNfJyAuICRQYXJhbXtBcnRpY2xlSUR9LAogICAgICAgICk7CiAgICB9CgogICAgIyBnZXQgdGlja2V0IG9iamVjdAogICAgbXkgJFRpY2tldE9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpUaWNrZXQnKTsKCiAgICAjIGFkZCBoaXN0b3J5IGVudHJ5CiAgICAkVGlja2V0T2JqZWN0LT5IaXN0b3J5QWRkKAogICAgICAgIFRpY2tldElEICAgICA9PiAkUGFyYW17VGlja2V0SUR9LAogICAgICAgIEFydGljbGVJRCAgICA9PiAkUGFyYW17QXJ0aWNsZUlEfSwKICAgICAgICBIaXN0b3J5VHlwZSAgPT4gJ0F0dGFjaG1lbnREZWxldGUnLAogICAgICAgIE5hbWUgICAgICAgICA9PiAiXCVcJSREYXRhe0ZpbGVuYW1lfSIsCiAgICAgICAgQ3JlYXRlVXNlcklEID0+ICRQYXJhbXtVc2VySUR9LAogICAgKTsKCiAgICAjIHRyaWdnZXIgZXZlbnQKICAgICRUaWNrZXRPYmplY3QtPkV2ZW50SGFuZGxlcigKICAgICAgICBFdmVudCA9PiAnU2luZ2xlVGlja2V0QXR0YWNobWVudERlbGV0ZScsCiAgICAgICAgRGF0YSAgPT4gewogICAgICAgICAgICBUaWNrZXRJRCAgPT4gJFBhcmFte1RpY2tldElEfSwKICAgICAgICAgICAgQXJ0aWNsZUlEID0+ICRQYXJhbXtBcnRpY2xlSUR9LAogICAgICAgICAgICBGaWxlSUQgICAgPT4gJERhdGF7RmlsZUlEfSwKICAgICAgICAgICAgRmlsZW5hbWUgID0+ICREYXRhe0ZpbGVuYW1lfSwKICAgICAgICB9LAogICAgICAgIFVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSwKICAgICk7CgogICAgIyByZXR1cm4gaWYgb25seSBkZWxldGUgaW4gbXkgYmFja2VuZAogICAgcmV0dXJuIDEgaWYgJFBhcmFte09ubHlNeUJhY2tlbmR9OwoKICAgICMgZ2V0IGRiIG9iamVjdAogICAgbXkgJERCT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkRCJyk7CgogICAgIyBkZWxldGUgYXR0YWNobWVudHMgZnJvbSBkYgogICAgcmV0dXJuIGlmICEkREJPYmplY3QtPkRvKAogICAgICAgIFNRTCAgPT4gJ0RFTEVURSBGUk9NIGFydGljbGVfZGF0YV9taW1lX2F0dGFjaG1lbnQgJwogICAgICAgICAgICAgLiAnIFdIRVJFIGFydGljbGVfaWQgPSA/IEFORCBpZCA9ID8nLAogICAgICAgIEJpbmQgPT4gWyBcJFBhcmFte0FydGljbGVJRH0sIFwkRGF0YXtGaWxlSUR9IF0sCiAgICApOwoKICAgIHJldHVybiAxOwp9CgpzdWIgQXR0YWNobWVudEluZm9HZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgZm9yIG15ICRJdGVtIChxdyhBcnRpY2xlSUQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRJdGVtfSApIHsKICAgICAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpLT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJEl0ZW0hIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICAjIGdldCBjb250ZW50IHBhdGgKICAgIG15ICRDb250ZW50UGF0aCA9ICRTZWxmLT5fQXJ0aWNsZUNvbnRlbnRQYXRoR2V0KAogICAgICAgIEFydGljbGVJRCA9PiAkUGFyYW17QXJ0aWNsZUlEfQogICAgKTsKCiAgICAjIHBhdGggYnVpbGRpbmcKICAgIG15ICRQYXRoID0gIiRTZWxmLT57QXJ0aWNsZURhdGFEaXJ9LyRDb250ZW50UGF0aC8kUGFyYW17QXJ0aWNsZUlEfSI7CgogICAgbXkgJEZpbGVuYW1lVG9DaGVjayA9IGJhc2VuYW1lKCAkUGFyYW17RmlsZW5hbWV9IC8vICcnICk7CgogICAgbXkgJURhdGE7CiAgICBteSAkRmlsZUlEID0gMDsKCiAgICBpZiAoIC1lICRQYXRoICkgewoKICAgICAgICAjIGdldCBtYWluIG9iamVjdAogICAgICAgIG15ICRNYWluT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06Ok1haW4nKTsKCiAgICAgICAgbXkgQExpc3QgPSAkTWFpbk9iamVjdC0+RGlyZWN0b3J5UmVhZCgKICAgICAgICAgICAgRGlyZWN0b3J5ID0+ICRQYXRoLAogICAgICAgICAgICBGaWx0ZXIgICAgPT4gIioiLAogICAgICAgICAgICBTaWxlbnQgICAgPT4gMSwKICAgICAgICApOwoKICAgICAgICBGSUxFTkFNRToKICAgICAgICBmb3IgbXkgJEZpbGVuYW1lICggc29ydCBATGlzdCApIHsKICAgICAgICAgICAgbXkgJEZpbGVTaXplUmF3ID0gLXMgJEZpbGVuYW1lOwoKICAgICAgICAgICAgIyBkbyBub3QgdXNlIGNvbnRyb2wgZmlsZQogICAgICAgICAgICBuZXh0IEZJTEVOQU1FIGlmICRGaWxlbmFtZSA9fiBteyg/OlwuY29udGVudF8oPzphbHRlcm5hdGl2ZXx0eXBlfGlkKXxcLmRpc3Bvc2l0aW9uKSR9eG1zOwogICAgICAgICAgICBuZXh0IEZJTEVOQU1FIGlmICRGaWxlbmFtZSA9fiBte1wvcGxhaW5cLnR4dCR9OwoKICAgICAgICAgICAgaWYgKCAtZSAiJEZpbGVuYW1lLmNvbnRlbnRfdHlwZSIgKSB7CgogICAgICAgICAgICAgICAgaWYgKCAkRmlsZW5hbWUgPX4gbXtcL2ZpbGUtMiR9eG1zICkgewogICAgICAgICAgICAgICAgICAgICRGaWxlSUQrKzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBuZXh0IEZJTEVOQU1FIGlmICRGaWxlbmFtZSA9fiBte1wvZmlsZS1bMTJdJH14bXM7CgogICAgICAgICAgICAgICAgIyByZWFkIGNvbnRlbnQgdHlwZQogICAgICAgICAgICAgICAgbXkgJENvbnRlbnRUeXBlID0gJyc7CiAgICAgICAgICAgICAgICBteSAkQ29udGVudElEICAgPSAnJzsKICAgICAgICAgICAgICAgIG15ICREaXNwb3NpdGlvbiA9ICcnOwogICAgICAgICAgICAgICAgbXkgJENvbnRlbnQgPSAkTWFpbk9iamVjdC0+RmlsZVJlYWQoCiAgICAgICAgICAgICAgICAgICAgTG9jYXRpb24gPT4gIiRGaWxlbmFtZS5jb250ZW50X3R5cGUiLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIG5leHQgRklMRU5BTUUgaWYgISRDb250ZW50OwogICAgICAgICAgICAgICAgJENvbnRlbnRUeXBlID0gJHskQ29udGVudH07CgogICAgICAgICAgICAgICAgIyByZWFkIGNvbnRlbnQgaWQKICAgICAgICAgICAgICAgIGlmICggLWUgIiRGaWxlbmFtZS5jb250ZW50X2lkIiApIHsKICAgICAgICAgICAgICAgICAgICBteSAkQ29udGVudCA9ICRNYWluT2JqZWN0LT5GaWxlUmVhZCgKICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb24gPT4gIiRGaWxlbmFtZS5jb250ZW50X2lkIiwKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGlmICgkQ29udGVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAkQ29udGVudElEID0gJHskQ29udGVudH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgcmVhZCBkaXNwb3NpdGlvbgogICAgICAgICAgICAgICAgaWYgKCAtZSAiJEZpbGVuYW1lLmRpc3Bvc2l0aW9uIiApIHsKICAgICAgICAgICAgICAgICAgICBteSAkQ29udGVudCA9ICRNYWluT2JqZWN0LT5GaWxlUmVhZCgKICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb24gPT4gIiRGaWxlbmFtZS5kaXNwb3NpdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBpZiAoJENvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJERpc3Bvc2l0aW9uID0gJHskQ29udGVudH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG5leHQgRklMRU5BTUUgaWYgJERpc3Bvc2l0aW9uICYmIGxjICREaXNwb3NpdGlvbiBlcSAnaW5saW5lJzsKICAgICAgICAgICAgICAgIG5leHQgRklMRU5BTUUgaWYgJENvbnRlbnRJRCAmJiAkQ29udGVudFR5cGUgPX4gbXtpbWFnZX1peG1zOwoKICAgICAgICAgICAgICAgICMgc3RyaXAgZmlsZW5hbWUKICAgICAgICAgICAgICAgICRGaWxlbmFtZSA9fiBze14uKi99e307CgogICAgICAgICAgICAgICAgIyBhZGQgdGhlIGluZm8gdGhlIHRoZSBoYXNoCiAgICAgICAgICAgICAgICAkRmlsZUlEKys7CiAgICAgICAgICAgICAgICAkRGF0YXtGaWxlSUR9ICAgICAgPSAkRmlsZUlEOwogICAgICAgICAgICAgICAgJERhdGF7RmlsZW5hbWV9ICAgID0gJEZpbGVuYW1lOwogICAgICAgICAgICAgICAgJERhdGF7RmlsZXNpemVSYXd9ID0gJEZpbGVTaXplUmF3OwoKICAgICAgICAgICAgICAgIGlmICggJFBhcmFte0ZpbGVJRH0gJiYgJFBhcmFte0ZpbGVJRH0gPT0gJEZpbGVJRCApIHsKICAgICAgICAgICAgICAgICAgICBsYXN0IEZJTEVOQU1FOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzaWYgKCAkRmlsZW5hbWVUb0NoZWNrICYmICRGaWxlbmFtZVRvQ2hlY2sgZXEgYmFzZW5hbWUoJEZpbGVuYW1lKSApIHsKICAgICAgICAgICAgICAgICAgICBsYXN0IEZJTEVOQU1FOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiBpZiAhJURhdGE7CiAgICByZXR1cm4gaWYgISREYXRhe0ZpbGVJRH0gJiYgISREYXRhe0ZpbGVuYW1lfTsKCiAgICByZXR1cm4gJURhdGE7Cn0KCjE7Cg==</File>
        <File Location="var/httpd/htdocs/skins/Agent/default/css/Core.AttachmentList.css" Permission="660" Encode="Base64">LyoKIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKCiBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQogdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQogZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KICovCgovKioKICogQHBhY2thZ2UgICAgIFNraW4gIkRlZmF1bHQiCiAqIEBzZWN0aW9uICAgICBBdHRhY2htZW50TGlzdAogKi8KCkBtZWRpYSBzY3JlZW4scHJvamVjdGlvbix0dixoYW5kaGVsZCB7CgovKioKICogQHN1YnNlY3Rpb24gIFdpZGdldCBBdHRhY2htZW50IExpc3QKICovCgouQXJ0aWNsZUF0dGFjaG1lbnRzLkF0dGFjaG1lbnRMaXN0IHsKICAgIG1hcmdpbjogMDsKICAgIG1heC1oZWlnaHQ6IDM3MHB4OwogICAgb3ZlcmZsb3cteTogYXV0bzsKfQoKLkFydGljbGVBdHRhY2htZW50cy5BdHRhY2htZW50TGlzdCBsaSB7CiAgICBtaW4taGVpZ2h0OiAzMHB4OwogICAgbWFyZ2luOiAxMHB4IDAgMDsKICAgIHBhZGRpbmc6IDhweCA2MHB4IDhweCAxMnB4OwogICAgZmxvYXQ6IG5vbmU7Cn0KCi5BcnRpY2xlQXR0YWNobWVudHMuQXR0YWNobWVudExpc3QgbGkgaDUuQ29weVRleHQgewogICAgY29sb3I6ICMwMDA7CiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKfQoKLkFydGljbGVBdHRhY2htZW50cy5BdHRhY2htZW50TGlzdCBsaSBoNS5Db3B5VGV4dDpob3ZlciB7CiAgICBjb2xvcjogIzY2NjsKfQoKLkFydGljbGVBdHRhY2htZW50cy5BdHRhY2htZW50TGlzdCBsaS5GaWx0ZXJNZXNzYWdlIHsKICAgIG1pbi1oZWlnaHQ6IGF1dG87CiAgICBwYWRkaW5nOiA4cHggMTJweDsKfQoKLkFydGljbGVBdHRhY2htZW50cy5BdHRhY2htZW50TGlzdCBsaSBoNSB7CiAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5BcnRpY2xlQXR0YWNobWVudHMuQXR0YWNobWVudExpc3QgbGkgPiBkaXYgewogICAgd2lkdGg6IDYwcHg7Cn0KCi5BcnRpY2xlQXR0YWNobWVudHMuQXR0YWNobWVudExpc3QgbGkgZGl2ID4gZGl2ICsgZGl2IHsKICAgIHJpZ2h0OiAzMHB4OwogICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2NjYzsKfQoKfSAvKiBlbmQgQG1lZGlhICovCg==</File>
        <File Location="var/httpd/htdocs/js/Core.Agent.AttachmentList.js" Permission="660" Encode="Base64">Ly8gLS0KLy8gQ29weXJpZ2h0IChDKSAyMDEyLTIwMjMgUGVybC1TZXJ2aWNlcy5kZSwgaHR0cHM6Ly93d3cucGVybC1zZXJ2aWNlcy5kZQovLyAtLQovLyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQovLyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91Ci8vIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCi8vIC0tCgoidXNlIHN0cmljdCI7Cgp2YXIgQ29yZSA9IENvcmUgfHwge307CkNvcmUuQWdlbnQgPSBDb3JlLkFnZW50IHx8IHt9OwoKLyoqCiAqIEBuYW1lc3BhY2UgQ29yZS5BZ2VudC5BdHRhY2htZW50TGlzdAogKiBAbWVtYmVyb2YgQ29yZS5BZ2VudAogKiBAYXV0aG9yIE9UUlMgQUcKICogQGRlc2NyaXB0aW9uCiAqICAgICAgVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgdGhlIHNwZWNpYWwgZnVuY3Rpb24gZm9yIEF0dGFjaG1lbnRMaXN0IG1vZHVsZS4KICovCiBDb3JlLkFnZW50LkF0dGFjaG1lbnRMaXN0ID0gKGZ1bmN0aW9uIChUYXJnZXROUykgewoKICAgIC8qCiAgICAqIEBuYW1lIEluaXQKICAgICogQG1lbWJlcm9mIENvcmUuQWdlbnQuQXR0YWNobWVudExpc3QKICAgICogQGZ1bmN0aW9uCiAgICAqIEBkZXNjcmlwdGlvbgogICAgKiAgICAgIFRoaXMgZnVuY3Rpb24gaW5pdGlhbGl6ZXMgdGFibGUgZmlsdGVyLgogICAgKi8KICAgIFRhcmdldE5TLkluaXQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgIENvcmUuVUkuVGFibGUuSW5pdFRhYmxlRmlsdGVyKCQoJyNGaWx0ZXJBdHRhY2htZW50cycpLCAkKCcjQXR0YWNobWVudHMnKSk7CgogICAgICAgICQoJy5Db3B5VGV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIGNvcHlUZXh0Q2xpcGJvYXJkKCl7CgogICAgICAgICAgICB2YXIgT3JpZ2luVGV4dCA9ICQodGhpcykudGV4dCgpLAogICAgICAgICAgICAgICAgVGl0bGVUbXAgICA9IE9yaWdpblRleHQ7CgogICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChUaXRsZVRtcCk7CgogICAgICAgICAgICAkKHRoaXMpLmZhZGVPdXQoJ2Zhc3QnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyh7J3RleHQtZGVjb3JhdGlvbicgOiAnbm9uZScsICdjb2xvcicgOiAnZ3JlZW4nLCAncG9pbnRlci1ldmVudHMnIDogJ25vbmUnfSk7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoQ29yZS5MYW5ndWFnZS5UcmFuc2xhdGUoIlRoZSBmaWxlIG5hbWUgaGFzIGJlZW4gY29waWVkLiIpKS5mYWRlSW4oJ2Zhc3QnKTsgICAgCgogICAgICAgICAgICAgICAgJCh0aGlzKS5mYWRlT3V0KCdmYXN0JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKHsndGV4dC1kZWNvcmF0aW9uJyA6ICcnLCAnY29sb3InIDogJycsICdwb2ludGVyLWV2ZW50cycgOiAnJ30pOwogICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dChPcmlnaW5UZXh0KS5mYWRlSW4oJ2Zhc3QnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gZGVsZXRlIHBvc3RtYXN0ZXIgZmlsdGVyCiAgICAgICAgVGFyZ2V0TlMuSW5pdEF0dGFjaG1lbnREZWxldGUoKTsKCiAgICB9OwoKICAgIC8qKgogICAgICogQG5hbWUgQXR0YWNobWVudERlbGV0ZQogICAgICogQG1lbWJlcm9mIENvcmUuQWdlbnQuQXR0YWNobWVudExpc3QKICAgICAqIEBmdW5jdGlvbgogICAgICogQGRlc2NyaXB0aW9uCiAgICAgKiAgICAgIFRoaXMgZnVuY3Rpb24gZGVsZXRlcyBwb3N0bWFzdGVyIGZpbHRlciBvbiBidXRvbiBjbGljay4KICAgICAqLwogICAgVGFyZ2V0TlMuSW5pdEF0dGFjaG1lbnREZWxldGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgJCgnLkF0dGFjaG1lbnREZWxldGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiBjb25maXJtRGVsZXRpb24oKSB7CiAgICAgICAgICAgIHZhciBEYXRhID0gewogICAgICAgICAgICAgICAgQWN0aW9uOiAnQWdlbnRBdHRhY2htZW50RGVsZXRlJywKICAgICAgICAgICAgICAgIFRpY2tldElEOiAkKHRoaXMpLmF0dHIoJ2RhdGEtdGlja2V0LWlkJyksCiAgICAgICAgICAgICAgICBBcnRpY2xlSUQ6ICQodGhpcykuYXR0cignZGF0YS1hcnRpY2xlLWlkJyksCiAgICAgICAgICAgICAgICBGaWxlSUQ6ICQodGhpcykuYXR0cignZGF0YS1maWxlLWlkJykKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIENvcmUuVUkuRGlhbG9nLlNob3dDb250ZW50RGlhbG9nKAogICAgICAgICAgICAgICAgJCgnI0RlbGV0ZUF0dGFjaG1lbnREaWFsb2dDb250YWluZXInKSwKICAgICAgICAgICAgICAgIENvcmUuTGFuZ3VhZ2UuVHJhbnNsYXRlKCdEZWxldGUnKSwKICAgICAgICAgICAgICAgICcyNDBweCcsCiAgICAgICAgICAgICAgICAnQ2VudGVyJywKICAgICAgICAgICAgICAgIHRydWUsCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBDbGFzczogJ1ByaW1hcnknLAogICAgICAgICAgICAgICAgICAgICAgICBMYWJlbDogQ29yZS5MYW5ndWFnZS5UcmFuc2xhdGUoIkNvbmZpcm0iKSwKICAgICAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5EaWFsb2cgLklubmVyQ29udGVudCAuQ2VudGVyJykudGV4dChDb3JlLkxhbmd1YWdlLlRyYW5zbGF0ZSgiRGVsZXRpbmcgdGhlIGF0dGFjaG1lbnQuIFRoaXMgbWF5IHRha2UgYSB3aGlsZS4uLiIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5EaWFsb2cgLkNvbnRlbnQgLkNvbnRlbnRGb290ZXInKS5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3JlLkFKQVguRnVuY3Rpb25DYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvcmUuQ29uZmlnLkdldCgnQ0dJSGFuZGxlJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3JlLkFwcC5JbnRlcm5hbFJlZGlyZWN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWN0aW9uOiAnQWdlbnRUaWNrZXRab29tJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGlja2V0SUQ6IERhdGEuVGlja2V0SUQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFydGljbGVJRDogRGF0YS5BcnRpY2xlSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIExhYmVsOiBDb3JlLkxhbmd1YWdlLlRyYW5zbGF0ZSgiQ2FuY2VsIiksCiAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3JlLlVJLkRpYWxvZy5DbG9zZURpYWxvZygkKCcuRGlhbG9nOnZpc2libGUnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKICAgIH07CgogICAgQ29yZS5Jbml0LlJlZ2lzdGVyTmFtZXNwYWNlKFRhcmdldE5TLCAnQVBQX01PRFVMRScpOwoKICAgIHJldHVybiBUYXJnZXROUzsKfShDb3JlLkFnZW50LkF0dGFjaG1lbnRMaXN0IHx8IHt9KSk7Cg==</File>
        <File Location="var/packagesetup/AdvancedTicketAttachment.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAxMi0yMDIzIFBlcmwtU2VydmljZXMuZGUsIGh0dHBzOi8vd3d3LnBlcmwtc2VydmljZXMuZGUKIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgdmFyOjpwYWNrYWdlc2V0dXA6OkFkdmFuY2VkVGlja2V0QXR0YWNobWVudDsgICAgIyMgbm8gY3JpdGljCgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7Cgp1c2UgS2VybmVsOjpPdXRwdXQ6OlRlbXBsYXRlOjpQcm92aWRlcjsKCm91ciBAT2JqZWN0RGVwZW5kZW5jaWVzID0gKAogICAgJ0tlcm5lbDo6Q29uZmlnJywKICAgICdLZXJuZWw6OlN5c3RlbTo6U3lzQ29uZmlnJywKKTsKCj1oZWFkMSBOQU1FCgp2YXI6OnBhY2thZ2VzZXR1cDo6QWR2YW5jZWRUaWNrZXRBdHRhY2htZW50IC0gY29kZSB0byBleGVjdXRlIGR1cmluZyBwYWNrYWdlIGluc3RhbGxhdGlvbgoKPWhlYWQxIERFU0NSSVBUSU9OCgpGdW5jdGlvbnMgZm9yIGluc3RhbGxpbmcgdGhlIEFkdmFuY2VkVGlja2V0QXR0YWNobWVudCBwYWNrYWdlLgoKPWhlYWQxIFBVQkxJQyBJTlRFUkZBQ0UKCj1jdXQKCj1oZWFkMiBuZXcoKQoKQ3JlYXRlIGFuIG9iamVjdC4KCiAgICB1c2UgS2VybmVsOjpTeXN0ZW06Ok9iamVjdE1hbmFnZXI7CiAgICBsb2NhbCAkS2VybmVsOjpPTSA9IEtlcm5lbDo6U3lzdGVtOjpPYmplY3RNYW5hZ2VyLT5uZXcoKTsKICAgIG15ICRDb2RlT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgndmFyOjpwYWNrYWdlc2V0dXA6OkFkdmFuY2VkVGlja2V0QXR0YWNobWVudCcpOwoKPWN1dAoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7fTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICAjIEZvcmNlIGEgcmVsb2FkIG9mIFpaWkF1dG8ucG0gYW5kIFpaWkFBdXRvLnBtIHRvIGdldCB0aGUgZnJlc2ggY29uZmlndXJhdGlvbiB2YWx1ZXMuCiAgICBmb3IgbXkgJE1vZHVsZSAoIHNvcnQga2V5cyAlSU5DICkgewogICAgICAgIGlmICggJE1vZHVsZSA9fiBtL1paWkFBP3V0b1wucG0kLyApIHsKICAgICAgICAgICAgZGVsZXRlICRJTkN7JE1vZHVsZX07CiAgICAgICAgfQogICAgfQoKICAgICMgQ3JlYXRlIGNvbW1vbiBvYmplY3RzIHdpdGggZnJlc2ggZGVmYXVsdCBjb25maWcuCiAgICAkS2VybmVsOjpPTS0+T2JqZWN0c0Rpc2NhcmQoKTsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCj1oZWFkMiBDb2RlSW5zdGFsbCgpCgpSdW4gdGhlIGNvZGUgaW5zdGFsbCBwYXJ0LgoKICAgIG15ICRSZXN1bHQgPSAkQ29kZU9iamVjdC0+Q29kZUluc3RhbGwoKTsKCj1jdXQKCnN1YiBDb2RlSW5zdGFsbCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY3JlYXRlIG5lZWRlZCBvYmplY3RzCiAgICBteSAkQ29uZmlnT2JqZWN0ICAgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpDb25maWcnKTsKICAgIG15ICRTeXNDb25maWdPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6U3lzQ29uZmlnJyk7CgogICAgbXkgJFNldHRpbmcgPSAkQ29uZmlnT2JqZWN0LT5HZXQoJ0xvYWRlcjo6TW9kdWxlOjpBZ2VudFRpY2tldFpvb20nKTsKCiAgICBmb3IgbXkgJEtleSAocXcoQ1NTIEphdmFTY3JpcHQpKSB7CiAgICAgICAgaWYgKCAkS2V5IGVxICdDU1MnICYmICRTZXR0aW5nLT57JzAwMi1UaWNrZXQnfS0+eyRLZXl9ICkgewogICAgICAgICAgICBwdXNoIEB7JFNldHRpbmctPnsnMDAyLVRpY2tldCd9LT57JEtleX19LCAnQ29yZS5BdHRhY2htZW50TGlzdC5jc3MnOwogICAgICAgIH0KICAgICAgICBlbHNpZiAoICRLZXkgZXEgJ0phdmFTY3JpcHQnICYmICRTZXR0aW5nLT57JzAwMi1UaWNrZXQnfS0+eyRLZXl9ICkgewogICAgICAgICAgICBwdXNoIEB7JFNldHRpbmctPnsnMDAyLVRpY2tldCd9LT57JEtleX19LCAnQ29yZS5BZ2VudC5BdHRhY2htZW50TGlzdC5qcyc7CiAgICAgICAgfQogICAgfQoKICAgIG15ICVFZmZlY3RpdmVWYWx1ZSA9ICV7JFNldHRpbmctPnsnMDAyLVRpY2tldCd9fTsKCiAgICByZXR1cm4gMCBpZiAhJFN5c0NvbmZpZ09iamVjdC0+U2V0dGluZ3NTZXQoCiAgICAgICAgVXNlcklEICAgPT4gMSwKICAgICAgICBDb21tZW50cyA9PiAnQWR2YW5jZWRUaWNrZXRBdHRhY2htZW50IC0gaW5zdGFsbCBzcGVjaWZpYyBDU1MgYW5kIEpTLicsCiAgICAgICAgU2V0dGluZ3MgPT4gWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBOYW1lICAgICAgICAgICA9PiAnTG9hZGVyOjpNb2R1bGU6OkFnZW50VGlja2V0Wm9vbSMjIzAwMi1UaWNrZXQnLAogICAgICAgICAgICAgICAgRWZmZWN0aXZlVmFsdWUgPT4gXCVFZmZlY3RpdmVWYWx1ZSwKICAgICAgICAgICAgICAgIElzVmFsaWQgICAgICAgID0+IDEsCiAgICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICk7CgogICAgcmV0dXJuIDE7Cn0KCj1oZWFkMiBDb2RlUmVpbnN0YWxsKCkKClJ1biB0aGUgY29kZSByZWluc3RhbGwgcGFydC4KCiAgICBteSAkUmVzdWx0ID0gJENvZGVPYmplY3QtPkNvZGVSZWluc3RhbGwoKTsKCj1jdXQKCnN1YiBDb2RlUmVpbnN0YWxsIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDE7Cn0KCj1oZWFkMiBDb2RlVXBncmFkZSgpCgpSdW4gdGhlIGNvZGUgdXBncmFkZSBwYXJ0LgoKICAgIG15ICRSZXN1bHQgPSAkQ29kZU9iamVjdC0+Q29kZVVwZ3JhZGUoKTsKCj1jdXQKCnN1YiBDb2RlVXBncmFkZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIHJldHVybiAxOwp9Cgo9aGVhZDIgQ29kZVVuaW5zdGFsbCgpCgpSdW4gdGhlIGNvZGUgdW5pbnN0YWxsIHBhcnQuCgogICAgbXkgJFJlc3VsdCA9ICRDb2RlT2JqZWN0LT5Db2RlVW5pbnN0YWxsKCk7Cgo9Y3V0CgpzdWIgQ29kZVVuaW5zdGFsbCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY3JlYXRlIG5lZWRlZCBvYmplY3RzCiAgICBteSAkQ29uZmlnT2JqZWN0ICAgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpDb25maWcnKTsKICAgIG15ICRTeXNDb25maWdPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6U3lzQ29uZmlnJyk7CgogICAgbXkgJFNldHRpbmcgPSAkQ29uZmlnT2JqZWN0LT5HZXQoJ0xvYWRlcjo6TW9kdWxlOjpBZ2VudFRpY2tldFpvb20nKTsKCiAgICBmb3IgbXkgJEtleSAocXcoQ1NTIEphdmFTY3JpcHQpKSB7CgogICAgICAgIG15IEBJdGVtcyA9IEB7JFNldHRpbmctPnsnMDAyLVRpY2tldCd9LT57JEtleX19OwogICAgICAgIG15ICRJbmRleCA9IDA7CgogICAgICAgICRJbmRleCsrIHVudGlsICRJdGVtc1skSW5kZXhdID1+IC9BdHRhY2htZW50TGlzdC9pOwogICAgICAgIHNwbGljZShASXRlbXMsICRJbmRleCwgMSk7CgogICAgICAgICRTZXR0aW5nLT57JzAwMi1UaWNrZXQnfS0+eyRLZXl9ID0gKCk7CiAgICAgICAgZm9yIG15ICRJdGVtICggQEl0ZW1zICkgewogICAgICAgICAgICBwdXNoIEB7JFNldHRpbmctPnsnMDAyLVRpY2tldCd9LT57JEtleX19LCAkSXRlbTsKICAgICAgICB9CiAgICB9CgogICAgbXkgJUVmZmVjdGl2ZVZhbHVlID0gJXskU2V0dGluZy0+eycwMDItVGlja2V0J319OwoKICAgIHJldHVybiAwIGlmICEkU3lzQ29uZmlnT2JqZWN0LT5TZXR0aW5nc1NldCgKICAgICAgICBVc2VySUQgICA9PiAxLAogICAgICAgIENvbW1lbnRzID0+ICdBZHZhbmNlZFRpY2tldEF0dGFjaG1lbnQgLSB1bmluc3RhbGwgc3BlY2lmaWMgQ1NTIGFuZCBKUy4nLAogICAgICAgIFNldHRpbmdzID0+IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgTmFtZSAgICAgICAgICAgPT4gJ0xvYWRlcjo6TW9kdWxlOjpBZ2VudFRpY2tldFpvb20jIyMwMDItVGlja2V0JywKICAgICAgICAgICAgICAgIEVmZmVjdGl2ZVZhbHVlID0+IFwlRWZmZWN0aXZlVmFsdWUsCiAgICAgICAgICAgICAgICBJc1ZhbGlkICAgICAgICA9PiAxLAogICAgICAgICAgICB9LAogICAgICAgIF0sCiAgICApOwoKICAgIHJldHVybiAxOwp9CgoxOwoKPWVuZCBJbnRlcm5hbDoKCj1oZWFkMSBURVJNUyBBTkQgQ09ORElUSU9OUwoKVGhpcyBzb2Z0d2FyZSBpcyBwYXJ0IG9mIHRoZSBPVFJTIHByb2plY3QgKEw8aHR0cHM6Ly9vdHJzLm9yZy8+KS4KClRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCnRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEdQTCkuIElmIHlvdQpkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgTDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC0zLjAudHh0Pi4KCj1jdXQ=</File>
    </Filelist>
    <DatabaseInstall Type="pre">
        <Insert Type="pre" Table="ticket_history_type">
            <Data Key="name" Type="Quote">AttachmentRename</Data>
            <Data Key="comments" Type="Quote">Rename an attachment</Data>
            <Data Key="valid_id">1</Data>
            <Data Key="create_time">current_timestamp</Data>
            <Data Key="create_by">1</Data>
            <Data Key="change_time">current_timestamp</Data>
            <Data Key="change_by">1</Data>
        </Insert>
        <Insert Type="pre" Table="ticket_history_type">
            <Data Key="name" Type="Quote">AttachmentDelete</Data>
            <Data Key="comments" Type="Quote">Delete an attachment</Data>
            <Data Key="valid_id">1</Data>
            <Data Key="create_time">current_timestamp</Data>
            <Data Key="create_by">1</Data>
            <Data Key="change_time">current_timestamp</Data>
            <Data Key="change_by">1</Data>
        </Insert>
    </DatabaseInstall>
    <DatabaseUpgrade Type="post">
        <Insert Type="post" Table="ticket_history_type" Version="1.0.1">
            <Data Key="name" Type="Quote">AttachmentRename</Data>
            <Data Key="comments" Type="Quote">Rename an attachment</Data>
            <Data Key="valid_id">1</Data>
            <Data Key="create_time">current_timestamp</Data>
            <Data Key="create_by">1</Data>
            <Data Key="change_time">current_timestamp</Data>
            <Data Key="change_by">1</Data>
        </Insert>
        <Insert Type="post" Table="ticket_history_type" Version="1.0.1">
            <Data Key="name" Type="Quote">AttachmentDelete</Data>
            <Data Key="comments" Type="Quote">Delete an attachment</Data>
            <Data Key="valid_id">1</Data>
            <Data Key="create_time">current_timestamp</Data>
            <Data Key="create_by">1</Data>
            <Data Key="change_time">current_timestamp</Data>
            <Data Key="change_by">1</Data>
        </Insert>
    </DatabaseUpgrade>
</otrs_package>